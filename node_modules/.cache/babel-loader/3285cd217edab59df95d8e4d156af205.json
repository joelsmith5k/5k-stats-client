{"ast":null,"code":"import B, { Fragment as G, createContext as V, createRef as N, useContext as X, useEffect as $, useMemo as P, useReducer as q, useRef as H } from \"react\";\nimport { match as K } from '../../utils/match.js';\nimport { forwardRefWithAs as v, render as x, Features as j } from '../../utils/render.js';\nimport { disposables as L } from '../../utils/disposables.js';\nimport { useDisposables as Q } from '../../hooks/use-disposables.js';\nimport { useIsoMorphicEffect as h } from '../../hooks/use-iso-morphic-effect.js';\nimport { useSyncRefs as D } from '../../hooks/use-sync-refs.js';\nimport { useId as k } from '../../hooks/use-id.js';\nimport { Keys as d } from '../keyboard.js';\nimport { Focus as y, calculateActiveIndex as z } from '../../utils/calculate-active-index.js';\nimport { isDisabledReactIssue7711 as Y } from '../../utils/bugs.js';\nimport { isFocusableElement as Z, FocusableMode as ee, sortByDomNode as te, Focus as W, focusFrom as ne, restoreFocusIfNecessary as J } from '../../utils/focus-management.js';\nimport { useOutsideClick as re } from '../../hooks/use-outside-click.js';\nimport { useTreeWalker as oe } from '../../hooks/use-tree-walker.js';\nimport { useOpenClosed as ae, State as C, OpenClosedProvider as se } from '../../internal/open-closed.js';\nimport { useResolveButtonType as ie } from '../../hooks/use-resolve-button-type.js';\nimport { useOwnerDocument as ue } from '../../hooks/use-owner.js';\nimport { useEvent as T } from '../../hooks/use-event.js';\nimport { useTrackedPointer as le } from '../../hooks/use-tracked-pointer.js';\n\nvar pe = (r => (r[r.Open = 0] = \"Open\", r[r.Closed = 1] = \"Closed\", r))(pe || {}),\n    ce = (r => (r[r.Pointer = 0] = \"Pointer\", r[r.Other = 1] = \"Other\", r))(ce || {}),\n    me = (a => (a[a.OpenMenu = 0] = \"OpenMenu\", a[a.CloseMenu = 1] = \"CloseMenu\", a[a.GoToItem = 2] = \"GoToItem\", a[a.Search = 3] = \"Search\", a[a.ClearSearch = 4] = \"ClearSearch\", a[a.RegisterItem = 5] = \"RegisterItem\", a[a.UnregisterItem = 6] = \"UnregisterItem\", a))(me || {});\n\nfunction w(e) {\n  let u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : r => r;\n  let r = e.activeItemIndex !== null ? e.items[e.activeItemIndex] : null,\n      i = te(u(e.items.slice()), t => t.dataRef.current.domRef.current),\n      s = r ? i.indexOf(r) : null;\n  return s === -1 && (s = null), {\n    items: i,\n    activeItemIndex: s\n  };\n}\n\nlet de = {\n  [1](e) {\n    return e.menuState === 1 ? e : { ...e,\n      activeItemIndex: null,\n      menuState: 1\n    };\n  },\n\n  [0](e) {\n    return e.menuState === 0 ? e : { ...e,\n      menuState: 0\n    };\n  },\n\n  [2]: (e, u) => {\n    var s;\n    let r = w(e),\n        i = z(u, {\n      resolveItems: () => r.items,\n      resolveActiveIndex: () => r.activeItemIndex,\n      resolveId: t => t.id,\n      resolveDisabled: t => t.dataRef.current.disabled\n    });\n    return { ...e,\n      ...r,\n      searchQuery: \"\",\n      activeItemIndex: i,\n      activationTrigger: (s = u.trigger) != null ? s : 1\n    };\n  },\n  [3]: (e, u) => {\n    let i = e.searchQuery !== \"\" ? 0 : 1,\n        s = e.searchQuery + u.value.toLowerCase(),\n        o = (e.activeItemIndex !== null ? e.items.slice(e.activeItemIndex + i).concat(e.items.slice(0, e.activeItemIndex + i)) : e.items).find(l => {\n      var m;\n      return ((m = l.dataRef.current.textValue) == null ? void 0 : m.startsWith(s)) && !l.dataRef.current.disabled;\n    }),\n        a = o ? e.items.indexOf(o) : -1;\n    return a === -1 || a === e.activeItemIndex ? { ...e,\n      searchQuery: s\n    } : { ...e,\n      searchQuery: s,\n      activeItemIndex: a,\n      activationTrigger: 1\n    };\n  },\n\n  [4](e) {\n    return e.searchQuery === \"\" ? e : { ...e,\n      searchQuery: \"\",\n      searchActiveItemIndex: null\n    };\n  },\n\n  [5]: (e, u) => {\n    let r = w(e, i => [...i, {\n      id: u.id,\n      dataRef: u.dataRef\n    }]);\n    return { ...e,\n      ...r\n    };\n  },\n  [6]: (e, u) => {\n    let r = w(e, i => {\n      let s = i.findIndex(t => t.id === u.id);\n      return s !== -1 && i.splice(s, 1), i;\n    });\n    return { ...e,\n      ...r,\n      activationTrigger: 1\n    };\n  }\n},\n    U = V(null);\nU.displayName = \"MenuContext\";\n\nfunction F(e) {\n  let u = X(U);\n\n  if (u === null) {\n    let r = new Error(`<${e} /> is missing a parent <Menu /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(r, F), r;\n  }\n\n  return u;\n}\n\nfunction fe(e, u) {\n  return K(u.type, de, e, u);\n}\n\nlet Te = G;\n\nfunction ye(e, u) {\n  let r = q(fe, {\n    menuState: 1,\n    buttonRef: N(),\n    itemsRef: N(),\n    items: [],\n    searchQuery: \"\",\n    activeItemIndex: null,\n    activationTrigger: 1\n  }),\n      [{\n    menuState: i,\n    itemsRef: s,\n    buttonRef: t\n  }, o] = r,\n      a = D(u);\n  re([t, s], (g, A) => {\n    var I;\n    o({\n      type: 1\n    }), Z(A, ee.Loose) || (g.preventDefault(), (I = t.current) == null || I.focus());\n  }, i === 0);\n  let l = T(() => {\n    o({\n      type: 1\n    });\n  }),\n      m = P(() => ({\n    open: i === 0,\n    close: l\n  }), [i, l]),\n      M = e,\n      f = {\n    ref: a\n  };\n  return B.createElement(U.Provider, {\n    value: r\n  }, B.createElement(se, {\n    value: K(i, {\n      [0]: C.Open,\n      [1]: C.Closed\n    })\n  }, x({\n    ourProps: f,\n    theirProps: M,\n    slot: m,\n    defaultTag: Te,\n    name: \"Menu\"\n  })));\n}\n\nlet Ie = \"button\";\n\nfunction Me(e, u) {\n  var I;\n  let r = k(),\n      {\n    id: i = `headlessui-menu-button-${r}`,\n    ...s\n  } = e,\n      [t, o] = F(\"Menu.Button\"),\n      a = D(t.buttonRef, u),\n      l = Q(),\n      m = T(p => {\n    switch (p.key) {\n      case d.Space:\n      case d.Enter:\n      case d.ArrowDown:\n        p.preventDefault(), p.stopPropagation(), o({\n          type: 0\n        }), l.nextFrame(() => o({\n          type: 2,\n          focus: y.First\n        }));\n        break;\n\n      case d.ArrowUp:\n        p.preventDefault(), p.stopPropagation(), o({\n          type: 0\n        }), l.nextFrame(() => o({\n          type: 2,\n          focus: y.Last\n        }));\n        break;\n    }\n  }),\n      M = T(p => {\n    switch (p.key) {\n      case d.Space:\n        p.preventDefault();\n        break;\n    }\n  }),\n      f = T(p => {\n    if (Y(p.currentTarget)) return p.preventDefault();\n    e.disabled || (t.menuState === 0 ? (o({\n      type: 1\n    }), l.nextFrame(() => {\n      var R;\n      return (R = t.buttonRef.current) == null ? void 0 : R.focus({\n        preventScroll: !0\n      });\n    })) : (p.preventDefault(), o({\n      type: 0\n    })));\n  }),\n      g = P(() => ({\n    open: t.menuState === 0\n  }), [t]),\n      A = {\n    ref: a,\n    id: i,\n    type: ie(e, t.buttonRef),\n    \"aria-haspopup\": \"menu\",\n    \"aria-controls\": (I = t.itemsRef.current) == null ? void 0 : I.id,\n    \"aria-expanded\": e.disabled ? void 0 : t.menuState === 0,\n    onKeyDown: m,\n    onKeyUp: M,\n    onClick: f\n  };\n  return x({\n    ourProps: A,\n    theirProps: s,\n    slot: g,\n    defaultTag: Ie,\n    name: \"Menu.Button\"\n  });\n}\n\nlet ge = \"div\",\n    Re = j.RenderStrategy | j.Static;\n\nfunction Ae(e, u) {\n  var R, E;\n\n  let r = k(),\n      {\n    id: i = `headlessui-menu-items-${r}`,\n    ...s\n  } = e,\n      [t, o] = F(\"Menu.Items\"),\n      a = D(t.itemsRef, u),\n      l = ue(t.itemsRef),\n      m = Q(),\n      M = ae(),\n      f = (() => M !== null ? (M & C.Open) === C.Open : t.menuState === 0)();\n\n  $(() => {\n    let n = t.itemsRef.current;\n    n && t.menuState === 0 && n !== (l == null ? void 0 : l.activeElement) && n.focus({\n      preventScroll: !0\n    });\n  }, [t.menuState, t.itemsRef, l]), oe({\n    container: t.itemsRef.current,\n    enabled: t.menuState === 0,\n\n    accept(n) {\n      return n.getAttribute(\"role\") === \"menuitem\" ? NodeFilter.FILTER_REJECT : n.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n\n    walk(n) {\n      n.setAttribute(\"role\", \"none\");\n    }\n\n  });\n  let g = T(n => {\n    var S, O;\n\n    switch (m.dispose(), n.key) {\n      case d.Space:\n        if (t.searchQuery !== \"\") return n.preventDefault(), n.stopPropagation(), o({\n          type: 3,\n          value: n.key\n        });\n\n      case d.Enter:\n        if (n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), t.activeItemIndex !== null) {\n          let {\n            dataRef: c\n          } = t.items[t.activeItemIndex];\n          (O = (S = c.current) == null ? void 0 : S.domRef.current) == null || O.click();\n        }\n\n        J(t.buttonRef.current);\n        break;\n\n      case d.ArrowDown:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Next\n        });\n\n      case d.ArrowUp:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Previous\n        });\n\n      case d.Home:\n      case d.PageUp:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.First\n        });\n\n      case d.End:\n      case d.PageDown:\n        return n.preventDefault(), n.stopPropagation(), o({\n          type: 2,\n          focus: y.Last\n        });\n\n      case d.Escape:\n        n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), L().nextFrame(() => {\n          var c;\n          return (c = t.buttonRef.current) == null ? void 0 : c.focus({\n            preventScroll: !0\n          });\n        });\n        break;\n\n      case d.Tab:\n        n.preventDefault(), n.stopPropagation(), o({\n          type: 1\n        }), L().nextFrame(() => {\n          ne(t.buttonRef.current, n.shiftKey ? W.Previous : W.Next);\n        });\n        break;\n\n      default:\n        n.key.length === 1 && (o({\n          type: 3,\n          value: n.key\n        }), m.setTimeout(() => o({\n          type: 4\n        }), 350));\n        break;\n    }\n  }),\n      A = T(n => {\n    switch (n.key) {\n      case d.Space:\n        n.preventDefault();\n        break;\n    }\n  }),\n      I = P(() => ({\n    open: t.menuState === 0\n  }), [t]),\n      p = {\n    \"aria-activedescendant\": t.activeItemIndex === null || (R = t.items[t.activeItemIndex]) == null ? void 0 : R.id,\n    \"aria-labelledby\": (E = t.buttonRef.current) == null ? void 0 : E.id,\n    id: i,\n    onKeyDown: g,\n    onKeyUp: A,\n    role: \"menu\",\n    tabIndex: 0,\n    ref: a\n  };\n  return x({\n    ourProps: p,\n    theirProps: s,\n    slot: I,\n    defaultTag: ge,\n    features: Re,\n    visible: f,\n    name: \"Menu.Items\"\n  });\n}\n\nlet be = G;\n\nfunction Ee(e, u) {\n  let r = k(),\n      {\n    id: i = `headlessui-menu-item-${r}`,\n    disabled: s = !1,\n    ...t\n  } = e,\n      [o, a] = F(\"Menu.Item\"),\n      l = o.activeItemIndex !== null ? o.items[o.activeItemIndex].id === i : !1,\n      m = H(null),\n      M = D(u, m);\n  h(() => {\n    if (o.menuState !== 0 || !l || o.activationTrigger === 0) return;\n    let c = L();\n    return c.requestAnimationFrame(() => {\n      var b, _;\n\n      (_ = (b = m.current) == null ? void 0 : b.scrollIntoView) == null || _.call(b, {\n        block: \"nearest\"\n      });\n    }), c.dispose;\n  }, [m, l, o.menuState, o.activationTrigger, o.activeItemIndex]);\n  let f = H({\n    disabled: s,\n    domRef: m\n  });\n  h(() => {\n    f.current.disabled = s;\n  }, [f, s]), h(() => {\n    var c, b;\n    f.current.textValue = (b = (c = m.current) == null ? void 0 : c.textContent) == null ? void 0 : b.toLowerCase();\n  }, [f, m]), h(() => (a({\n    type: 5,\n    id: i,\n    dataRef: f\n  }), () => a({\n    type: 6,\n    id: i\n  })), [f, i]);\n  let g = T(() => {\n    a({\n      type: 1\n    });\n  }),\n      A = T(c => {\n    if (s) return c.preventDefault();\n    a({\n      type: 1\n    }), J(o.buttonRef.current);\n  }),\n      I = T(() => {\n    if (s) return a({\n      type: 2,\n      focus: y.Nothing\n    });\n    a({\n      type: 2,\n      focus: y.Specific,\n      id: i\n    });\n  }),\n      p = le(),\n      R = T(c => p.update(c)),\n      E = T(c => {\n    p.wasMoved(c) && (s || l || a({\n      type: 2,\n      focus: y.Specific,\n      id: i,\n      trigger: 0\n    }));\n  }),\n      n = T(c => {\n    p.wasMoved(c) && (s || l && a({\n      type: 2,\n      focus: y.Nothing\n    }));\n  }),\n      S = P(() => ({\n    active: l,\n    disabled: s,\n    close: g\n  }), [l, s, g]);\n  return x({\n    ourProps: {\n      id: i,\n      ref: M,\n      role: \"menuitem\",\n      tabIndex: s === !0 ? void 0 : -1,\n      \"aria-disabled\": s === !0 ? !0 : void 0,\n      disabled: void 0,\n      onClick: A,\n      onFocus: I,\n      onPointerEnter: R,\n      onMouseEnter: R,\n      onPointerMove: E,\n      onMouseMove: E,\n      onPointerLeave: n,\n      onMouseLeave: n\n    },\n    theirProps: t,\n    slot: S,\n    defaultTag: be,\n    name: \"Menu.Item\"\n  });\n}\n\nlet Se = v(ye),\n    Pe = v(Me),\n    ve = v(Ae),\n    xe = v(Ee),\n    ot = Object.assign(Se, {\n  Button: Pe,\n  Items: ve,\n  Item: xe\n});\nexport { ot as Menu };","map":{"version":3,"sources":["C:/Users/joels/OneDrive/Desktop/Projects/5kstats-client/node_modules/@headlessui/react/dist/components/menu/menu.js"],"names":["B","Fragment","G","createContext","V","createRef","N","useContext","X","useEffect","$","useMemo","P","useReducer","q","useRef","H","match","K","forwardRefWithAs","v","render","x","Features","j","disposables","L","useDisposables","Q","useIsoMorphicEffect","h","useSyncRefs","D","useId","k","Keys","d","Focus","y","calculateActiveIndex","z","isDisabledReactIssue7711","Y","isFocusableElement","Z","FocusableMode","ee","sortByDomNode","te","W","focusFrom","ne","restoreFocusIfNecessary","J","useOutsideClick","re","useTreeWalker","oe","useOpenClosed","ae","State","C","OpenClosedProvider","se","useResolveButtonType","ie","useOwnerDocument","ue","useEvent","T","useTrackedPointer","le","pe","r","Open","Closed","ce","Pointer","Other","me","a","OpenMenu","CloseMenu","GoToItem","Search","ClearSearch","RegisterItem","UnregisterItem","w","e","u","activeItemIndex","items","i","slice","t","dataRef","current","domRef","s","indexOf","de","menuState","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","disabled","searchQuery","activationTrigger","trigger","value","toLowerCase","o","concat","find","l","m","textValue","startsWith","searchActiveItemIndex","findIndex","splice","U","displayName","F","Error","captureStackTrace","fe","type","Te","ye","buttonRef","itemsRef","g","A","I","Loose","preventDefault","focus","open","close","M","f","ref","createElement","Provider","ourProps","theirProps","slot","defaultTag","name","Ie","Me","p","key","Space","Enter","ArrowDown","stopPropagation","nextFrame","First","ArrowUp","Last","currentTarget","R","preventScroll","onKeyDown","onKeyUp","onClick","ge","Re","RenderStrategy","Static","Ae","E","n","activeElement","container","enabled","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","S","O","dispose","c","click","Next","Previous","Home","PageUp","End","PageDown","Escape","Tab","shiftKey","length","setTimeout","role","tabIndex","features","visible","be","Ee","requestAnimationFrame","b","_","scrollIntoView","call","block","textContent","Nothing","Specific","update","wasMoved","active","onFocus","onPointerEnter","onMouseEnter","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","Se","Pe","ve","xe","ot","Object","assign","Button","Items","Item","Menu"],"mappings":"AAAA,OAAOA,CAAP,IAAUC,QAAQ,IAAIC,CAAtB,EAAwBC,aAAa,IAAIC,CAAzC,EAA2CC,SAAS,IAAIC,CAAxD,EAA0DC,UAAU,IAAIC,CAAxE,EAA0EC,SAAS,IAAIC,CAAvF,EAAyFC,OAAO,IAAIC,CAApG,EAAsGC,UAAU,IAAIC,CAApH,EAAsHC,MAAM,IAAIC,CAAhI,QAAsI,OAAtI;AAA8I,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,sBAAtB;AAA6C,SAAOC,gBAAgB,IAAIC,CAA3B,EAA6BC,MAAM,IAAIC,CAAvC,EAAyCC,QAAQ,IAAIC,CAArD,QAA2D,uBAA3D;AAAmF,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,4BAA5B;AAAyD,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,gCAA/B;AAAgE,SAAOC,mBAAmB,IAAIC,CAA9B,QAAoC,uCAApC;AAA4E,SAAOC,WAAW,IAAIC,CAAtB,QAA4B,8BAA5B;AAA2D,SAAOC,KAAK,IAAIC,CAAhB,QAAsB,uBAAtB;AAA8C,SAAOC,IAAI,IAAIC,CAAf,QAAqB,gBAArB;AAAsC,SAAOC,KAAK,IAAIC,CAAhB,EAAkBC,oBAAoB,IAAIC,CAA1C,QAAgD,uCAAhD;AAAwF,SAAOC,wBAAwB,IAAIC,CAAnC,QAAyC,qBAAzC;AAA+D,SAAOC,kBAAkB,IAAIC,CAA7B,EAA+BC,aAAa,IAAIC,EAAhD,EAAmDC,aAAa,IAAIC,EAApE,EAAuEX,KAAK,IAAIY,CAAhF,EAAkFC,SAAS,IAAIC,EAA/F,EAAkGC,uBAAuB,IAAIC,CAA7H,QAAmI,iCAAnI;AAAqK,SAAOC,eAAe,IAAIC,EAA1B,QAAiC,kCAAjC;AAAoE,SAAOC,aAAa,IAAIC,EAAxB,QAA+B,gCAA/B;AAAgE,SAAOC,aAAa,IAAIC,EAAxB,EAA2BC,KAAK,IAAIC,CAApC,EAAsCC,kBAAkB,IAAIC,EAA5D,QAAmE,+BAAnE;AAAmG,SAAOC,oBAAoB,IAAIC,EAA/B,QAAsC,wCAAtC;AAA+E,SAAOC,gBAAgB,IAAIC,EAA3B,QAAkC,0BAAlC;AAA6D,SAAOC,QAAQ,IAAIC,CAAnB,QAAyB,0BAAzB;AAAoD,SAAOC,iBAAiB,IAAIC,EAA5B,QAAmC,oCAAnC;;AAAwE,IAAIC,EAAE,GAAC,CAACC,CAAC,KAAGA,CAAC,CAACA,CAAC,CAACC,IAAF,GAAO,CAAR,CAAD,GAAY,MAAZ,EAAmBD,CAAC,CAACA,CAAC,CAACE,MAAF,GAAS,CAAV,CAAD,GAAc,QAAjC,EAA0CF,CAA7C,CAAF,EAAmDD,EAAE,IAAE,EAAvD,CAAP;AAAA,IAAkEI,EAAE,GAAC,CAACH,CAAC,KAAGA,CAAC,CAACA,CAAC,CAACI,OAAF,GAAU,CAAX,CAAD,GAAe,SAAf,EAAyBJ,CAAC,CAACA,CAAC,CAACK,KAAF,GAAQ,CAAT,CAAD,GAAa,OAAtC,EAA8CL,CAAjD,CAAF,EAAuDG,EAAE,IAAE,EAA3D,CAArE;AAAA,IAAoIG,EAAE,GAAC,CAACC,CAAC,KAAGA,CAAC,CAACA,CAAC,CAACC,QAAF,GAAW,CAAZ,CAAD,GAAgB,UAAhB,EAA2BD,CAAC,CAACA,CAAC,CAACE,SAAF,GAAY,CAAb,CAAD,GAAiB,WAA5C,EAAwDF,CAAC,CAACA,CAAC,CAACG,QAAF,GAAW,CAAZ,CAAD,GAAgB,UAAxE,EAAmFH,CAAC,CAACA,CAAC,CAACI,MAAF,GAAS,CAAV,CAAD,GAAc,QAAjG,EAA0GJ,CAAC,CAACA,CAAC,CAACK,WAAF,GAAc,CAAf,CAAD,GAAmB,aAA7H,EAA2IL,CAAC,CAACA,CAAC,CAACM,YAAF,GAAe,CAAhB,CAAD,GAAoB,cAA/J,EAA8KN,CAAC,CAACA,CAAC,CAACO,cAAF,GAAiB,CAAlB,CAAD,GAAsB,gBAApM,EAAqNP,CAAxN,CAAF,EAA8ND,EAAE,IAAE,EAAlO,CAAvI;;AAA6W,SAASS,CAAT,CAAWC,CAAX,EAAoB;AAAA,MAAPC,CAAO,uEAALjB,CAAC,IAAEA,CAAE;AAAC,MAAIA,CAAC,GAACgB,CAAC,CAACE,eAAF,KAAoB,IAApB,GAAyBF,CAAC,CAACG,KAAF,CAAQH,CAAC,CAACE,eAAV,CAAzB,GAAoD,IAA1D;AAAA,MAA+DE,CAAC,GAAC7C,EAAE,CAAC0C,CAAC,CAACD,CAAC,CAACG,KAAF,CAAQE,KAAR,EAAD,CAAF,EAAoBC,CAAC,IAAEA,CAAC,CAACC,OAAF,CAAUC,OAAV,CAAkBC,MAAlB,CAAyBD,OAAhD,CAAnE;AAAA,MAA4HE,CAAC,GAAC1B,CAAC,GAACoB,CAAC,CAACO,OAAF,CAAU3B,CAAV,CAAD,GAAc,IAA7I;AAAkJ,SAAO0B,CAAC,KAAG,CAAC,CAAL,KAASA,CAAC,GAAC,IAAX,GAAiB;AAACP,IAAAA,KAAK,EAACC,CAAP;AAASF,IAAAA,eAAe,EAACQ;AAAzB,GAAxB;AAAoD;;AAAA,IAAIE,EAAE,GAAC;AAAC,GAAC,CAAD,EAAIZ,CAAJ,EAAM;AAAC,WAAOA,CAAC,CAACa,SAAF,KAAc,CAAd,GAAgBb,CAAhB,GAAkB,EAAC,GAAGA,CAAJ;AAAME,MAAAA,eAAe,EAAC,IAAtB;AAA2BW,MAAAA,SAAS,EAAC;AAArC,KAAzB;AAAiE,GAAzE;;AAA0E,GAAC,CAAD,EAAIb,CAAJ,EAAM;AAAC,WAAOA,CAAC,CAACa,SAAF,KAAc,CAAd,GAAgBb,CAAhB,GAAkB,EAAC,GAAGA,CAAJ;AAAMa,MAAAA,SAAS,EAAC;AAAhB,KAAzB;AAA4C,GAA7H;;AAA8H,GAAC,CAAD,GAAI,CAACb,CAAD,EAAGC,CAAH,KAAO;AAAC,QAAIS,CAAJ;AAAM,QAAI1B,CAAC,GAACe,CAAC,CAACC,CAAD,CAAP;AAAA,QAAWI,CAAC,GAACrD,CAAC,CAACkD,CAAD,EAAG;AAACa,MAAAA,YAAY,EAAC,MAAI9B,CAAC,CAACmB,KAApB;AAA0BY,MAAAA,kBAAkB,EAAC,MAAI/B,CAAC,CAACkB,eAAnD;AAAmEc,MAAAA,SAAS,EAACV,CAAC,IAAEA,CAAC,CAACW,EAAlF;AAAqFC,MAAAA,eAAe,EAACZ,CAAC,IAAEA,CAAC,CAACC,OAAF,CAAUC,OAAV,CAAkBW;AAA1H,KAAH,CAAd;AAAsJ,WAAM,EAAC,GAAGnB,CAAJ;AAAM,SAAGhB,CAAT;AAAWoC,MAAAA,WAAW,EAAC,EAAvB;AAA0BlB,MAAAA,eAAe,EAACE,CAA1C;AAA4CiB,MAAAA,iBAAiB,EAAC,CAACX,CAAC,GAACT,CAAC,CAACqB,OAAL,KAAe,IAAf,GAAoBZ,CAApB,GAAsB;AAApF,KAAN;AAA6F,GAAnY;AAAoY,GAAC,CAAD,GAAI,CAACV,CAAD,EAAGC,CAAH,KAAO;AAAC,QAAIG,CAAC,GAACJ,CAAC,CAACoB,WAAF,KAAgB,EAAhB,GAAmB,CAAnB,GAAqB,CAA3B;AAAA,QAA6BV,CAAC,GAACV,CAAC,CAACoB,WAAF,GAAcnB,CAAC,CAACsB,KAAF,CAAQC,WAAR,EAA7C;AAAA,QAAmEC,CAAC,GAAC,CAACzB,CAAC,CAACE,eAAF,KAAoB,IAApB,GAAyBF,CAAC,CAACG,KAAF,CAAQE,KAAR,CAAcL,CAAC,CAACE,eAAF,GAAkBE,CAAhC,EAAmCsB,MAAnC,CAA0C1B,CAAC,CAACG,KAAF,CAAQE,KAAR,CAAc,CAAd,EAAgBL,CAAC,CAACE,eAAF,GAAkBE,CAAlC,CAA1C,CAAzB,GAAyGJ,CAAC,CAACG,KAA5G,EAAmHwB,IAAnH,CAAwHC,CAAC,IAAE;AAAC,UAAIC,CAAJ;AAAM,aAAM,CAAC,CAACA,CAAC,GAACD,CAAC,CAACrB,OAAF,CAAUC,OAAV,CAAkBsB,SAArB,KAAiC,IAAjC,GAAsC,KAAK,CAA3C,GAA6CD,CAAC,CAACE,UAAF,CAAarB,CAAb,CAA9C,KAAgE,CAACkB,CAAC,CAACrB,OAAF,CAAUC,OAAV,CAAkBW,QAAzF;AAAkG,KAApO,CAArE;AAAA,QAA2S5B,CAAC,GAACkC,CAAC,GAACzB,CAAC,CAACG,KAAF,CAAQQ,OAAR,CAAgBc,CAAhB,CAAD,GAAoB,CAAC,CAAnU;AAAqU,WAAOlC,CAAC,KAAG,CAAC,CAAL,IAAQA,CAAC,KAAGS,CAAC,CAACE,eAAd,GAA8B,EAAC,GAAGF,CAAJ;AAAMoB,MAAAA,WAAW,EAACV;AAAlB,KAA9B,GAAmD,EAAC,GAAGV,CAAJ;AAAMoB,MAAAA,WAAW,EAACV,CAAlB;AAAoBR,MAAAA,eAAe,EAACX,CAApC;AAAsC8B,MAAAA,iBAAiB,EAAC;AAAxD,KAA1D;AAAqH,GAA10B;;AAA20B,GAAC,CAAD,EAAIrB,CAAJ,EAAM;AAAC,WAAOA,CAAC,CAACoB,WAAF,KAAgB,EAAhB,GAAmBpB,CAAnB,GAAqB,EAAC,GAAGA,CAAJ;AAAMoB,MAAAA,WAAW,EAAC,EAAlB;AAAqBY,MAAAA,qBAAqB,EAAC;AAA3C,KAA5B;AAA6E,GAA/5B;;AAAg6B,GAAC,CAAD,GAAI,CAAChC,CAAD,EAAGC,CAAH,KAAO;AAAC,QAAIjB,CAAC,GAACe,CAAC,CAACC,CAAD,EAAGI,CAAC,IAAE,CAAC,GAAGA,CAAJ,EAAM;AAACa,MAAAA,EAAE,EAAChB,CAAC,CAACgB,EAAN;AAASV,MAAAA,OAAO,EAACN,CAAC,CAACM;AAAnB,KAAN,CAAN,CAAP;AAAiD,WAAM,EAAC,GAAGP,CAAJ;AAAM,SAAGhB;AAAT,KAAN;AAAkB,GAA/+B;AAAg/B,GAAC,CAAD,GAAI,CAACgB,CAAD,EAAGC,CAAH,KAAO;AAAC,QAAIjB,CAAC,GAACe,CAAC,CAACC,CAAD,EAAGI,CAAC,IAAE;AAAC,UAAIM,CAAC,GAACN,CAAC,CAAC6B,SAAF,CAAY3B,CAAC,IAAEA,CAAC,CAACW,EAAF,KAAOhB,CAAC,CAACgB,EAAxB,CAAN;AAAkC,aAAOP,CAAC,KAAG,CAAC,CAAL,IAAQN,CAAC,CAAC8B,MAAF,CAASxB,CAAT,EAAW,CAAX,CAAR,EAAsBN,CAA7B;AAA+B,KAAxE,CAAP;AAAiF,WAAM,EAAC,GAAGJ,CAAJ;AAAM,SAAGhB,CAAT;AAAWqC,MAAAA,iBAAiB,EAAC;AAA7B,KAAN;AAAsC;AAAnnC,CAAP;AAAA,IAA4nCc,CAAC,GAACxH,CAAC,CAAC,IAAD,CAA/nC;AAAsoCwH,CAAC,CAACC,WAAF,GAAc,aAAd;;AAA4B,SAASC,CAAT,CAAWrC,CAAX,EAAa;AAAC,MAAIC,CAAC,GAAClF,CAAC,CAACoH,CAAD,CAAP;;AAAW,MAAGlC,CAAC,KAAG,IAAP,EAAY;AAAC,QAAIjB,CAAC,GAAC,IAAIsD,KAAJ,CAAW,IAAGtC,CAAE,6CAAhB,CAAN;AAAoE,UAAMsC,KAAK,CAACC,iBAAN,IAAyBD,KAAK,CAACC,iBAAN,CAAwBvD,CAAxB,EAA0BqD,CAA1B,CAAzB,EAAsDrD,CAA5D;AAA8D;;AAAA,SAAOiB,CAAP;AAAS;;AAAA,SAASuC,EAAT,CAAYxC,CAAZ,EAAcC,CAAd,EAAgB;AAAC,SAAOxE,CAAC,CAACwE,CAAC,CAACwC,IAAH,EAAQ7B,EAAR,EAAWZ,CAAX,EAAaC,CAAb,CAAR;AAAwB;;AAAA,IAAIyC,EAAE,GAACjI,CAAP;;AAAS,SAASkI,EAAT,CAAY3C,CAAZ,EAAcC,CAAd,EAAgB;AAAC,MAAIjB,CAAC,GAAC3D,CAAC,CAACmH,EAAD,EAAI;AAAC3B,IAAAA,SAAS,EAAC,CAAX;AAAa+B,IAAAA,SAAS,EAAC/H,CAAC,EAAxB;AAA2BgI,IAAAA,QAAQ,EAAChI,CAAC,EAArC;AAAwCsF,IAAAA,KAAK,EAAC,EAA9C;AAAiDiB,IAAAA,WAAW,EAAC,EAA7D;AAAgElB,IAAAA,eAAe,EAAC,IAAhF;AAAqFmB,IAAAA,iBAAiB,EAAC;AAAvG,GAAJ,CAAP;AAAA,MAAsH,CAAC;AAACR,IAAAA,SAAS,EAACT,CAAX;AAAayC,IAAAA,QAAQ,EAACnC,CAAtB;AAAwBkC,IAAAA,SAAS,EAACtC;AAAlC,GAAD,EAAsCmB,CAAtC,IAAyCzC,CAA/J;AAAA,MAAiKO,CAAC,GAAChD,CAAC,CAAC0D,CAAD,CAApK;AAAwKnC,EAAAA,EAAE,CAAC,CAACwC,CAAD,EAAGI,CAAH,CAAD,EAAO,CAACoC,CAAD,EAAGC,CAAH,KAAO;AAAC,QAAIC,CAAJ;AAAMvB,IAAAA,CAAC,CAAC;AAACgB,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAD,EAAYtF,CAAC,CAAC4F,CAAD,EAAG1F,EAAE,CAAC4F,KAAN,CAAD,KAAgBH,CAAC,CAACI,cAAF,IAAmB,CAACF,CAAC,GAAC1C,CAAC,CAACE,OAAL,KAAe,IAAf,IAAqBwC,CAAC,CAACG,KAAF,EAAxD,CAAZ;AAA+E,GAApG,EAAqG/C,CAAC,KAAG,CAAzG,CAAF;AAA8G,MAAIwB,CAAC,GAAChD,CAAC,CAAC,MAAI;AAAC6C,IAAAA,CAAC,CAAC;AAACgB,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAD;AAAY,GAAlB,CAAP;AAAA,MAA2BZ,CAAC,GAAC1G,CAAC,CAAC,OAAK;AAACiI,IAAAA,IAAI,EAAChD,CAAC,KAAG,CAAV;AAAYiD,IAAAA,KAAK,EAACzB;AAAlB,GAAL,CAAD,EAA4B,CAACxB,CAAD,EAAGwB,CAAH,CAA5B,CAA9B;AAAA,MAAiE0B,CAAC,GAACtD,CAAnE;AAAA,MAAqEuD,CAAC,GAAC;AAACC,IAAAA,GAAG,EAACjE;AAAL,GAAvE;AAA+E,SAAOhF,CAAC,CAACkJ,aAAF,CAAgBtB,CAAC,CAACuB,QAAlB,EAA2B;AAACnC,IAAAA,KAAK,EAACvC;AAAP,GAA3B,EAAqCzE,CAAC,CAACkJ,aAAF,CAAgBnF,EAAhB,EAAmB;AAACiD,IAAAA,KAAK,EAAC9F,CAAC,CAAC2E,CAAD,EAAG;AAAC,OAAC,CAAD,GAAIhC,CAAC,CAACa,IAAP;AAAY,OAAC,CAAD,GAAIb,CAAC,CAACc;AAAlB,KAAH;AAAR,GAAnB,EAA0DrD,CAAC,CAAC;AAAC8H,IAAAA,QAAQ,EAACJ,CAAV;AAAYK,IAAAA,UAAU,EAACN,CAAvB;AAAyBO,IAAAA,IAAI,EAAChC,CAA9B;AAAgCiC,IAAAA,UAAU,EAACpB,EAA3C;AAA8CqB,IAAAA,IAAI,EAAC;AAAnD,GAAD,CAA3D,CAArC,CAAP;AAAsK;;AAAA,IAAIC,EAAE,GAAC,QAAP;;AAAgB,SAASC,EAAT,CAAYjE,CAAZ,EAAcC,CAAd,EAAgB;AAAC,MAAI+C,CAAJ;AAAM,MAAIhE,CAAC,GAACvC,CAAC,EAAP;AAAA,MAAU;AAACwE,IAAAA,EAAE,EAACb,CAAC,GAAE,0BAAyBpB,CAAE,EAAlC;AAAoC,OAAG0B;AAAvC,MAA0CV,CAApD;AAAA,MAAsD,CAACM,CAAD,EAAGmB,CAAH,IAAMY,CAAC,CAAC,aAAD,CAA7D;AAAA,MAA6E9C,CAAC,GAAChD,CAAC,CAAC+D,CAAC,CAACsC,SAAH,EAAa3C,CAAb,CAAhF;AAAA,MAAgG2B,CAAC,GAACzF,CAAC,EAAnG;AAAA,MAAsG0F,CAAC,GAACjD,CAAC,CAACsF,CAAC,IAAE;AAAC,YAAOA,CAAC,CAACC,GAAT;AAAc,WAAKxH,CAAC,CAACyH,KAAP;AAAa,WAAKzH,CAAC,CAAC0H,KAAP;AAAa,WAAK1H,CAAC,CAAC2H,SAAP;AAAiBJ,QAAAA,CAAC,CAAChB,cAAF,IAAmBgB,CAAC,CAACK,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAxC,EAAmDb,CAAC,CAAC4C,SAAF,CAAY,MAAI/C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC4H;AAAhB,SAAD,CAAjB,CAAnD;AAA8F;;AAAM,WAAK9H,CAAC,CAAC+H,OAAP;AAAeR,QAAAA,CAAC,CAAChB,cAAF,IAAmBgB,CAAC,CAACK,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAxC,EAAmDb,CAAC,CAAC4C,SAAF,CAAY,MAAI/C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC8H;AAAhB,SAAD,CAAjB,CAAnD;AAA6F;AAAzQ;AAAgR,GAArR,CAAzG;AAAA,MAAgYrB,CAAC,GAAC1E,CAAC,CAACsF,CAAC,IAAE;AAAC,YAAOA,CAAC,CAACC,GAAT;AAAc,WAAKxH,CAAC,CAACyH,KAAP;AAAaF,QAAAA,CAAC,CAAChB,cAAF;AAAmB;AAA9C;AAAqD,GAA1D,CAAnY;AAAA,MAA+bK,CAAC,GAAC3E,CAAC,CAACsF,CAAC,IAAE;AAAC,QAAGjH,CAAC,CAACiH,CAAC,CAACU,aAAH,CAAJ,EAAsB,OAAOV,CAAC,CAAChB,cAAF,EAAP;AAA0BlD,IAAAA,CAAC,CAACmB,QAAF,KAAab,CAAC,CAACO,SAAF,KAAc,CAAd,IAAiBY,CAAC,CAAC;AAACgB,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAD,EAAYb,CAAC,CAAC4C,SAAF,CAAY,MAAI;AAAC,UAAIK,CAAJ;AAAM,aAAM,CAACA,CAAC,GAACvE,CAAC,CAACsC,SAAF,CAAYpC,OAAf,KAAyB,IAAzB,GAA8B,KAAK,CAAnC,GAAqCqE,CAAC,CAAC1B,KAAF,CAAQ;AAAC2B,QAAAA,aAAa,EAAC,CAAC;AAAhB,OAAR,CAA3C;AAAuE,KAA9F,CAA7B,KAA+HZ,CAAC,CAAChB,cAAF,IAAmBzB,CAAC,CAAC;AAACgB,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAnJ,CAAb;AAA6K,GAAlO,CAAlc;AAAA,MAAsqBK,CAAC,GAAC3H,CAAC,CAAC,OAAK;AAACiI,IAAAA,IAAI,EAAC9C,CAAC,CAACO,SAAF,KAAc;AAApB,GAAL,CAAD,EAA8B,CAACP,CAAD,CAA9B,CAAzqB;AAAA,MAA4sByC,CAAC,GAAC;AAACS,IAAAA,GAAG,EAACjE,CAAL;AAAO0B,IAAAA,EAAE,EAACb,CAAV;AAAYqC,IAAAA,IAAI,EAACjE,EAAE,CAACwB,CAAD,EAAGM,CAAC,CAACsC,SAAL,CAAnB;AAAmC,qBAAgB,MAAnD;AAA0D,qBAAgB,CAACI,CAAC,GAAC1C,CAAC,CAACuC,QAAF,CAAWrC,OAAd,KAAwB,IAAxB,GAA6B,KAAK,CAAlC,GAAoCwC,CAAC,CAAC/B,EAAhH;AAAmH,qBAAgBjB,CAAC,CAACmB,QAAF,GAAW,KAAK,CAAhB,GAAkBb,CAAC,CAACO,SAAF,KAAc,CAAnK;AAAqKkE,IAAAA,SAAS,EAAClD,CAA/K;AAAiLmD,IAAAA,OAAO,EAAC1B,CAAzL;AAA2L2B,IAAAA,OAAO,EAAC1B;AAAnM,GAA9sB;AAAo5B,SAAO1H,CAAC,CAAC;AAAC8H,IAAAA,QAAQ,EAACZ,CAAV;AAAYa,IAAAA,UAAU,EAAClD,CAAvB;AAAyBmD,IAAAA,IAAI,EAACf,CAA9B;AAAgCgB,IAAAA,UAAU,EAACE,EAA3C;AAA8CD,IAAAA,IAAI,EAAC;AAAnD,GAAD,CAAR;AAA4E;;AAAA,IAAImB,EAAE,GAAC,KAAP;AAAA,IAAaC,EAAE,GAACpJ,CAAC,CAACqJ,cAAF,GAAiBrJ,CAAC,CAACsJ,MAAnC;;AAA0C,SAASC,EAAT,CAAYtF,CAAZ,EAAcC,CAAd,EAAgB;AAAC,MAAI4E,CAAJ,EAAMU,CAAN;;AAAQ,MAAIvG,CAAC,GAACvC,CAAC,EAAP;AAAA,MAAU;AAACwE,IAAAA,EAAE,EAACb,CAAC,GAAE,yBAAwBpB,CAAE,EAAjC;AAAmC,OAAG0B;AAAtC,MAAyCV,CAAnD;AAAA,MAAqD,CAACM,CAAD,EAAGmB,CAAH,IAAMY,CAAC,CAAC,YAAD,CAA5D;AAAA,MAA2E9C,CAAC,GAAChD,CAAC,CAAC+D,CAAC,CAACuC,QAAH,EAAY5C,CAAZ,CAA9E;AAAA,MAA6F2B,CAAC,GAAClD,EAAE,CAAC4B,CAAC,CAACuC,QAAH,CAAjG;AAAA,MAA8GhB,CAAC,GAAC1F,CAAC,EAAjH;AAAA,MAAoHmH,CAAC,GAACpF,EAAE,EAAxH;AAAA,MAA2HqF,CAAC,GAAC,CAAC,MAAID,CAAC,KAAG,IAAJ,GAAS,CAACA,CAAC,GAAClF,CAAC,CAACa,IAAL,MAAab,CAAC,CAACa,IAAxB,GAA6BqB,CAAC,CAACO,SAAF,KAAc,CAAhD,GAA7H;;AAAkL5F,EAAAA,CAAC,CAAC,MAAI;AAAC,QAAIuK,CAAC,GAAClF,CAAC,CAACuC,QAAF,CAAWrC,OAAjB;AAAyBgF,IAAAA,CAAC,IAAElF,CAAC,CAACO,SAAF,KAAc,CAAjB,IAAoB2E,CAAC,MAAI5D,CAAC,IAAE,IAAH,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC6D,aAArB,CAArB,IAA0DD,CAAC,CAACrC,KAAF,CAAQ;AAAC2B,MAAAA,aAAa,EAAC,CAAC;AAAhB,KAAR,CAA1D;AAAsF,GAArH,EAAsH,CAACxE,CAAC,CAACO,SAAH,EAAaP,CAAC,CAACuC,QAAf,EAAwBjB,CAAxB,CAAtH,CAAD,EAAmJ5D,EAAE,CAAC;AAAC0H,IAAAA,SAAS,EAACpF,CAAC,CAACuC,QAAF,CAAWrC,OAAtB;AAA8BmF,IAAAA,OAAO,EAACrF,CAAC,CAACO,SAAF,KAAc,CAApD;;AAAsD+E,IAAAA,MAAM,CAACJ,CAAD,EAAG;AAAC,aAAOA,CAAC,CAACK,YAAF,CAAe,MAAf,MAAyB,UAAzB,GAAoCC,UAAU,CAACC,aAA/C,GAA6DP,CAAC,CAACQ,YAAF,CAAe,MAAf,IAAuBF,UAAU,CAACG,WAAlC,GAA8CH,UAAU,CAACI,aAA7H;AAA2I,KAA3M;;AAA4MC,IAAAA,IAAI,CAACX,CAAD,EAAG;AAACA,MAAAA,CAAC,CAACY,YAAF,CAAe,MAAf,EAAsB,MAAtB;AAA8B;;AAAlP,GAAD,CAArJ;AAA2Y,MAAItD,CAAC,GAAClE,CAAC,CAAC4G,CAAC,IAAE;AAAC,QAAIa,CAAJ,EAAMC,CAAN;;AAAQ,YAAOzE,CAAC,CAAC0E,OAAF,IAAYf,CAAC,CAACrB,GAArB;AAA0B,WAAKxH,CAAC,CAACyH,KAAP;AAAa,YAAG9D,CAAC,CAACc,WAAF,KAAgB,EAAnB,EAAsB,OAAOoE,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQlB,UAAAA,KAAK,EAACiE,CAAC,CAACrB;AAAhB,SAAD,CAA/C;;AAAsE,WAAKxH,CAAC,CAAC0H,KAAP;AAAa,YAAGmB,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAxC,EAAmDnC,CAAC,CAACJ,eAAF,KAAoB,IAA1E,EAA+E;AAAC,cAAG;AAACK,YAAAA,OAAO,EAACiG;AAAT,cAAYlG,CAAC,CAACH,KAAF,CAAQG,CAAC,CAACJ,eAAV,CAAf;AAA0C,WAACoG,CAAC,GAAC,CAACD,CAAC,GAACG,CAAC,CAAChG,OAAL,KAAe,IAAf,GAAoB,KAAK,CAAzB,GAA2B6F,CAAC,CAAC5F,MAAF,CAASD,OAAvC,KAAiD,IAAjD,IAAuD8F,CAAC,CAACG,KAAF,EAAvD;AAAiE;;AAAA7I,QAAAA,CAAC,CAAC0C,CAAC,CAACsC,SAAF,CAAYpC,OAAb,CAAD;AAAuB;;AAAM,WAAK7D,CAAC,CAAC2H,SAAP;AAAiB,eAAOkB,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC6J;AAAhB,SAAD,CAA/C;;AAAuE,WAAK/J,CAAC,CAAC+H,OAAP;AAAe,eAAOc,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC8J;AAAhB,SAAD,CAA/C;;AAA2E,WAAKhK,CAAC,CAACiK,IAAP;AAAY,WAAKjK,CAAC,CAACkK,MAAP;AAAc,eAAOrB,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC4H;AAAhB,SAAD,CAA/C;;AAAwE,WAAK9H,CAAC,CAACmK,GAAP;AAAW,WAAKnK,CAAC,CAACoK,QAAP;AAAgB,eAAOvB,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQU,UAAAA,KAAK,EAACtG,CAAC,CAAC8H;AAAhB,SAAD,CAA/C;;AAAuE,WAAKhI,CAAC,CAACqK,MAAP;AAAcxB,QAAAA,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAxC,EAAmDxG,CAAC,GAAGuI,SAAJ,CAAc,MAAI;AAAC,cAAIgC,CAAJ;AAAM,iBAAM,CAACA,CAAC,GAAClG,CAAC,CAACsC,SAAF,CAAYpC,OAAf,KAAyB,IAAzB,GAA8B,KAAK,CAAnC,GAAqCgG,CAAC,CAACrD,KAAF,CAAQ;AAAC2B,YAAAA,aAAa,EAAC,CAAC;AAAhB,WAAR,CAA3C;AAAuE,SAAhG,CAAnD;AAAqJ;;AAAM,WAAKnI,CAAC,CAACsK,GAAP;AAAWzB,QAAAA,CAAC,CAACtC,cAAF,IAAmBsC,CAAC,CAACjB,eAAF,EAAnB,EAAuC9C,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAxC,EAAmDxG,CAAC,GAAGuI,SAAJ,CAAc,MAAI;AAAC9G,UAAAA,EAAE,CAAC4C,CAAC,CAACsC,SAAF,CAAYpC,OAAb,EAAqBgF,CAAC,CAAC0B,QAAF,GAAW1J,CAAC,CAACmJ,QAAb,GAAsBnJ,CAAC,CAACkJ,IAA7C,CAAF;AAAqD,SAAxE,CAAnD;AAA6H;;AAAM;AAAQlB,QAAAA,CAAC,CAACrB,GAAF,CAAMgD,MAAN,KAAe,CAAf,KAAmB1F,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC,CAAN;AAAQlB,UAAAA,KAAK,EAACiE,CAAC,CAACrB;AAAhB,SAAD,CAAD,EAAwBtC,CAAC,CAACuF,UAAF,CAAa,MAAI3F,CAAC,CAAC;AAACgB,UAAAA,IAAI,EAAC;AAAN,SAAD,CAAlB,EAA6B,GAA7B,CAA3C;AAA8E;AAA3mC;AAAknC,GAA/nC,CAAP;AAAA,MAAwoCM,CAAC,GAACnE,CAAC,CAAC4G,CAAC,IAAE;AAAC,YAAOA,CAAC,CAACrB,GAAT;AAAc,WAAKxH,CAAC,CAACyH,KAAP;AAAaoB,QAAAA,CAAC,CAACtC,cAAF;AAAmB;AAA9C;AAAqD,GAA1D,CAA3oC;AAAA,MAAusCF,CAAC,GAAC7H,CAAC,CAAC,OAAK;AAACiI,IAAAA,IAAI,EAAC9C,CAAC,CAACO,SAAF,KAAc;AAApB,GAAL,CAAD,EAA8B,CAACP,CAAD,CAA9B,CAA1sC;AAAA,MAA6uC4D,CAAC,GAAC;AAAC,6BAAwB5D,CAAC,CAACJ,eAAF,KAAoB,IAApB,IAA0B,CAAC2E,CAAC,GAACvE,CAAC,CAACH,KAAF,CAAQG,CAAC,CAACJ,eAAV,CAAH,KAAgC,IAA1D,GAA+D,KAAK,CAApE,GAAsE2E,CAAC,CAAC5D,EAAjG;AAAoG,uBAAkB,CAACsE,CAAC,GAACjF,CAAC,CAACsC,SAAF,CAAYpC,OAAf,KAAyB,IAAzB,GAA8B,KAAK,CAAnC,GAAqC+E,CAAC,CAACtE,EAA7J;AAAgKA,IAAAA,EAAE,EAACb,CAAnK;AAAqK2E,IAAAA,SAAS,EAACjC,CAA/K;AAAiLkC,IAAAA,OAAO,EAACjC,CAAzL;AAA2LsE,IAAAA,IAAI,EAAC,MAAhM;AAAuMC,IAAAA,QAAQ,EAAC,CAAhN;AAAkN9D,IAAAA,GAAG,EAACjE;AAAtN,GAA/uC;AAAw8C,SAAO1D,CAAC,CAAC;AAAC8H,IAAAA,QAAQ,EAACO,CAAV;AAAYN,IAAAA,UAAU,EAAClD,CAAvB;AAAyBmD,IAAAA,IAAI,EAACb,CAA9B;AAAgCc,IAAAA,UAAU,EAACoB,EAA3C;AAA8CqC,IAAAA,QAAQ,EAACpC,EAAvD;AAA0DqC,IAAAA,OAAO,EAACjE,CAAlE;AAAoEQ,IAAAA,IAAI,EAAC;AAAzE,GAAD,CAAR;AAAiG;;AAAA,IAAI0D,EAAE,GAAChN,CAAP;;AAAS,SAASiN,EAAT,CAAY1H,CAAZ,EAAcC,CAAd,EAAgB;AAAC,MAAIjB,CAAC,GAACvC,CAAC,EAAP;AAAA,MAAU;AAACwE,IAAAA,EAAE,EAACb,CAAC,GAAE,wBAAuBpB,CAAE,EAAhC;AAAkCmC,IAAAA,QAAQ,EAACT,CAAC,GAAC,CAAC,CAA9C;AAAgD,OAAGJ;AAAnD,MAAsDN,CAAhE;AAAA,MAAkE,CAACyB,CAAD,EAAGlC,CAAH,IAAM8C,CAAC,CAAC,WAAD,CAAzE;AAAA,MAAuFT,CAAC,GAACH,CAAC,CAACvB,eAAF,KAAoB,IAApB,GAAyBuB,CAAC,CAACtB,KAAF,CAAQsB,CAAC,CAACvB,eAAV,EAA2Be,EAA3B,KAAgCb,CAAzD,GAA2D,CAAC,CAArJ;AAAA,MAAuJyB,CAAC,GAACtG,CAAC,CAAC,IAAD,CAA1J;AAAA,MAAiK+H,CAAC,GAAC/G,CAAC,CAAC0D,CAAD,EAAG4B,CAAH,CAApK;AAA0KxF,EAAAA,CAAC,CAAC,MAAI;AAAC,QAAGoF,CAAC,CAACZ,SAAF,KAAc,CAAd,IAAiB,CAACe,CAAlB,IAAqBH,CAAC,CAACJ,iBAAF,KAAsB,CAA9C,EAAgD;AAAO,QAAImF,CAAC,GAACvK,CAAC,EAAP;AAAU,WAAOuK,CAAC,CAACmB,qBAAF,CAAwB,MAAI;AAAC,UAAIC,CAAJ,EAAMC,CAAN;;AAAQ,OAACA,CAAC,GAAC,CAACD,CAAC,GAAC/F,CAAC,CAACrB,OAAL,KAAe,IAAf,GAAoB,KAAK,CAAzB,GAA2BoH,CAAC,CAACE,cAAhC,KAAiD,IAAjD,IAAuDD,CAAC,CAACE,IAAF,CAAOH,CAAP,EAAS;AAACI,QAAAA,KAAK,EAAC;AAAP,OAAT,CAAvD;AAAmF,KAAxH,GAA0HxB,CAAC,CAACD,OAAnI;AAA2I,GAAlN,EAAmN,CAAC1E,CAAD,EAAGD,CAAH,EAAKH,CAAC,CAACZ,SAAP,EAAiBY,CAAC,CAACJ,iBAAnB,EAAqCI,CAAC,CAACvB,eAAvC,CAAnN,CAAD;AAA6Q,MAAIqD,CAAC,GAAChI,CAAC,CAAC;AAAC4F,IAAAA,QAAQ,EAACT,CAAV;AAAYD,IAAAA,MAAM,EAACoB;AAAnB,GAAD,CAAP;AAA+BxF,EAAAA,CAAC,CAAC,MAAI;AAACkH,IAAAA,CAAC,CAAC/C,OAAF,CAAUW,QAAV,GAAmBT,CAAnB;AAAqB,GAA3B,EAA4B,CAAC6C,CAAD,EAAG7C,CAAH,CAA5B,CAAD,EAAoCrE,CAAC,CAAC,MAAI;AAAC,QAAImK,CAAJ,EAAMoB,CAAN;AAAQrE,IAAAA,CAAC,CAAC/C,OAAF,CAAUsB,SAAV,GAAoB,CAAC8F,CAAC,GAAC,CAACpB,CAAC,GAAC3E,CAAC,CAACrB,OAAL,KAAe,IAAf,GAAoB,KAAK,CAAzB,GAA2BgG,CAAC,CAACyB,WAAhC,KAA8C,IAA9C,GAAmD,KAAK,CAAxD,GAA0DL,CAAC,CAACpG,WAAF,EAA9E;AAA8F,GAA5G,EAA6G,CAAC+B,CAAD,EAAG1B,CAAH,CAA7G,CAArC,EAAyJxF,CAAC,CAAC,OAAKkD,CAAC,CAAC;AAACkD,IAAAA,IAAI,EAAC,CAAN;AAAQxB,IAAAA,EAAE,EAACb,CAAX;AAAaG,IAAAA,OAAO,EAACgD;AAArB,GAAD,CAAD,EAA2B,MAAIhE,CAAC,CAAC;AAACkD,IAAAA,IAAI,EAAC,CAAN;AAAQxB,IAAAA,EAAE,EAACb;AAAX,GAAD,CAArC,CAAD,EAAuD,CAACmD,CAAD,EAAGnD,CAAH,CAAvD,CAA1J;AAAwN,MAAI0C,CAAC,GAAClE,CAAC,CAAC,MAAI;AAACW,IAAAA,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAD;AAAY,GAAlB,CAAP;AAAA,MAA2BM,CAAC,GAACnE,CAAC,CAAC4H,CAAC,IAAE;AAAC,QAAG9F,CAAH,EAAK,OAAO8F,CAAC,CAACtD,cAAF,EAAP;AAA0B3D,IAAAA,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAD,EAAY7E,CAAC,CAAC6D,CAAC,CAACmB,SAAF,CAAYpC,OAAb,CAAb;AAAmC,GAAvE,CAA9B;AAAA,MAAuGwC,CAAC,GAACpE,CAAC,CAAC,MAAI;AAAC,QAAG8B,CAAH,EAAK,OAAOnB,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC,CAAN;AAAQU,MAAAA,KAAK,EAACtG,CAAC,CAACqL;AAAhB,KAAD,CAAR;AAAmC3I,IAAAA,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC,CAAN;AAAQU,MAAAA,KAAK,EAACtG,CAAC,CAACsL,QAAhB;AAAyBlH,MAAAA,EAAE,EAACb;AAA5B,KAAD,CAAD;AAAkC,GAAhF,CAA1G;AAAA,MAA4L8D,CAAC,GAACpF,EAAE,EAAhM;AAAA,MAAmM+F,CAAC,GAACjG,CAAC,CAAC4H,CAAC,IAAEtC,CAAC,CAACkE,MAAF,CAAS5B,CAAT,CAAJ,CAAtM;AAAA,MAAuNjB,CAAC,GAAC3G,CAAC,CAAC4H,CAAC,IAAE;AAACtC,IAAAA,CAAC,CAACmE,QAAF,CAAW7B,CAAX,MAAgB9F,CAAC,IAAEkB,CAAH,IAAMrC,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC,CAAN;AAAQU,MAAAA,KAAK,EAACtG,CAAC,CAACsL,QAAhB;AAAyBlH,MAAAA,EAAE,EAACb,CAA5B;AAA8BkB,MAAAA,OAAO,EAAC;AAAtC,KAAD,CAAvB;AAAmE,GAAxE,CAA1N;AAAA,MAAoSkE,CAAC,GAAC5G,CAAC,CAAC4H,CAAC,IAAE;AAACtC,IAAAA,CAAC,CAACmE,QAAF,CAAW7B,CAAX,MAAgB9F,CAAC,IAAEkB,CAAC,IAAErC,CAAC,CAAC;AAACkD,MAAAA,IAAI,EAAC,CAAN;AAAQU,MAAAA,KAAK,EAACtG,CAAC,CAACqL;AAAhB,KAAD,CAAvB;AAAmD,GAAxD,CAAvS;AAAA,MAAiW7B,CAAC,GAAClL,CAAC,CAAC,OAAK;AAACmN,IAAAA,MAAM,EAAC1G,CAAR;AAAUT,IAAAA,QAAQ,EAACT,CAAnB;AAAqB2C,IAAAA,KAAK,EAACP;AAA3B,GAAL,CAAD,EAAqC,CAAClB,CAAD,EAAGlB,CAAH,EAAKoC,CAAL,CAArC,CAApW;AAAkZ,SAAOjH,CAAC,CAAC;AAAC8H,IAAAA,QAAQ,EAAC;AAAC1C,MAAAA,EAAE,EAACb,CAAJ;AAAMoD,MAAAA,GAAG,EAACF,CAAV;AAAY+D,MAAAA,IAAI,EAAC,UAAjB;AAA4BC,MAAAA,QAAQ,EAAC5G,CAAC,KAAG,CAAC,CAAL,GAAO,KAAK,CAAZ,GAAc,CAAC,CAApD;AAAsD,uBAAgBA,CAAC,KAAG,CAAC,CAAL,GAAO,CAAC,CAAR,GAAU,KAAK,CAArF;AAAuFS,MAAAA,QAAQ,EAAC,KAAK,CAArG;AAAuG8D,MAAAA,OAAO,EAAClC,CAA/G;AAAiHwF,MAAAA,OAAO,EAACvF,CAAzH;AAA2HwF,MAAAA,cAAc,EAAC3D,CAA1I;AAA4I4D,MAAAA,YAAY,EAAC5D,CAAzJ;AAA2J6D,MAAAA,aAAa,EAACnD,CAAzK;AAA2KoD,MAAAA,WAAW,EAACpD,CAAvL;AAAyLqD,MAAAA,cAAc,EAACpD,CAAxM;AAA0MqD,MAAAA,YAAY,EAACrD;AAAvN,KAAV;AAAoO5B,IAAAA,UAAU,EAACtD,CAA/O;AAAiPuD,IAAAA,IAAI,EAACwC,CAAtP;AAAwPvC,IAAAA,UAAU,EAAC2D,EAAnQ;AAAsQ1D,IAAAA,IAAI,EAAC;AAA3Q,GAAD,CAAR;AAAkS;;AAAA,IAAI+E,EAAE,GAACnN,CAAC,CAACgH,EAAD,CAAR;AAAA,IAAaoG,EAAE,GAACpN,CAAC,CAACsI,EAAD,CAAjB;AAAA,IAAsB+E,EAAE,GAACrN,CAAC,CAAC2J,EAAD,CAA1B;AAAA,IAA+B2D,EAAE,GAACtN,CAAC,CAAC+L,EAAD,CAAnC;AAAA,IAAwCwB,EAAE,GAACC,MAAM,CAACC,MAAP,CAAcN,EAAd,EAAiB;AAACO,EAAAA,MAAM,EAACN,EAAR;AAAWO,EAAAA,KAAK,EAACN,EAAjB;AAAoBO,EAAAA,IAAI,EAACN;AAAzB,CAAjB,CAA3C;AAA0F,SAAOC,EAAE,IAAIM,IAAb","sourcesContent":["import B,{Fragment as G,createContext as V,createRef as N,useContext as X,useEffect as $,useMemo as P,useReducer as q,useRef as H}from\"react\";import{match as K}from'../../utils/match.js';import{forwardRefWithAs as v,render as x,Features as j}from'../../utils/render.js';import{disposables as L}from'../../utils/disposables.js';import{useDisposables as Q}from'../../hooks/use-disposables.js';import{useIsoMorphicEffect as h}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as D}from'../../hooks/use-sync-refs.js';import{useId as k}from'../../hooks/use-id.js';import{Keys as d}from'../keyboard.js';import{Focus as y,calculateActiveIndex as z}from'../../utils/calculate-active-index.js';import{isDisabledReactIssue7711 as Y}from'../../utils/bugs.js';import{isFocusableElement as Z,FocusableMode as ee,sortByDomNode as te,Focus as W,focusFrom as ne,restoreFocusIfNecessary as J}from'../../utils/focus-management.js';import{useOutsideClick as re}from'../../hooks/use-outside-click.js';import{useTreeWalker as oe}from'../../hooks/use-tree-walker.js';import{useOpenClosed as ae,State as C,OpenClosedProvider as se}from'../../internal/open-closed.js';import{useResolveButtonType as ie}from'../../hooks/use-resolve-button-type.js';import{useOwnerDocument as ue}from'../../hooks/use-owner.js';import{useEvent as T}from'../../hooks/use-event.js';import{useTrackedPointer as le}from'../../hooks/use-tracked-pointer.js';var pe=(r=>(r[r.Open=0]=\"Open\",r[r.Closed=1]=\"Closed\",r))(pe||{}),ce=(r=>(r[r.Pointer=0]=\"Pointer\",r[r.Other=1]=\"Other\",r))(ce||{}),me=(a=>(a[a.OpenMenu=0]=\"OpenMenu\",a[a.CloseMenu=1]=\"CloseMenu\",a[a.GoToItem=2]=\"GoToItem\",a[a.Search=3]=\"Search\",a[a.ClearSearch=4]=\"ClearSearch\",a[a.RegisterItem=5]=\"RegisterItem\",a[a.UnregisterItem=6]=\"UnregisterItem\",a))(me||{});function w(e,u=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,i=te(u(e.items.slice()),t=>t.dataRef.current.domRef.current),s=r?i.indexOf(r):null;return s===-1&&(s=null),{items:i,activeItemIndex:s}}let de={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,u)=>{var s;let r=w(e),i=z(u,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:t=>t.id,resolveDisabled:t=>t.dataRef.current.disabled});return{...e,...r,searchQuery:\"\",activeItemIndex:i,activationTrigger:(s=u.trigger)!=null?s:1}},[3]:(e,u)=>{let i=e.searchQuery!==\"\"?0:1,s=e.searchQuery+u.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+i).concat(e.items.slice(0,e.activeItemIndex+i)):e.items).find(l=>{var m;return((m=l.dataRef.current.textValue)==null?void 0:m.startsWith(s))&&!l.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===\"\"?e:{...e,searchQuery:\"\",searchActiveItemIndex:null}},[5]:(e,u)=>{let r=w(e,i=>[...i,{id:u.id,dataRef:u.dataRef}]);return{...e,...r}},[6]:(e,u)=>{let r=w(e,i=>{let s=i.findIndex(t=>t.id===u.id);return s!==-1&&i.splice(s,1),i});return{...e,...r,activationTrigger:1}}},U=V(null);U.displayName=\"MenuContext\";function F(e){let u=X(U);if(u===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,F),r}return u}function fe(e,u){return K(u.type,de,e,u)}let Te=G;function ye(e,u){let r=q(fe,{menuState:1,buttonRef:N(),itemsRef:N(),items:[],searchQuery:\"\",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:s,buttonRef:t},o]=r,a=D(u);re([t,s],(g,A)=>{var I;o({type:1}),Z(A,ee.Loose)||(g.preventDefault(),(I=t.current)==null||I.focus())},i===0);let l=T(()=>{o({type:1})}),m=P(()=>({open:i===0,close:l}),[i,l]),M=e,f={ref:a};return B.createElement(U.Provider,{value:r},B.createElement(se,{value:K(i,{[0]:C.Open,[1]:C.Closed})},x({ourProps:f,theirProps:M,slot:m,defaultTag:Te,name:\"Menu\"})))}let Ie=\"button\";function Me(e,u){var I;let r=k(),{id:i=`headlessui-menu-button-${r}`,...s}=e,[t,o]=F(\"Menu.Button\"),a=D(t.buttonRef,u),l=Q(),m=T(p=>{switch(p.key){case d.Space:case d.Enter:case d.ArrowDown:p.preventDefault(),p.stopPropagation(),o({type:0}),l.nextFrame(()=>o({type:2,focus:y.First}));break;case d.ArrowUp:p.preventDefault(),p.stopPropagation(),o({type:0}),l.nextFrame(()=>o({type:2,focus:y.Last}));break}}),M=T(p=>{switch(p.key){case d.Space:p.preventDefault();break}}),f=T(p=>{if(Y(p.currentTarget))return p.preventDefault();e.disabled||(t.menuState===0?(o({type:1}),l.nextFrame(()=>{var R;return(R=t.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})})):(p.preventDefault(),o({type:0})))}),g=P(()=>({open:t.menuState===0}),[t]),A={ref:a,id:i,type:ie(e,t.buttonRef),\"aria-haspopup\":\"menu\",\"aria-controls\":(I=t.itemsRef.current)==null?void 0:I.id,\"aria-expanded\":e.disabled?void 0:t.menuState===0,onKeyDown:m,onKeyUp:M,onClick:f};return x({ourProps:A,theirProps:s,slot:g,defaultTag:Ie,name:\"Menu.Button\"})}let ge=\"div\",Re=j.RenderStrategy|j.Static;function Ae(e,u){var R,E;let r=k(),{id:i=`headlessui-menu-items-${r}`,...s}=e,[t,o]=F(\"Menu.Items\"),a=D(t.itemsRef,u),l=ue(t.itemsRef),m=Q(),M=ae(),f=(()=>M!==null?(M&C.Open)===C.Open:t.menuState===0)();$(()=>{let n=t.itemsRef.current;n&&t.menuState===0&&n!==(l==null?void 0:l.activeElement)&&n.focus({preventScroll:!0})},[t.menuState,t.itemsRef,l]),oe({container:t.itemsRef.current,enabled:t.menuState===0,accept(n){return n.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:n.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute(\"role\",\"none\")}});let g=T(n=>{var S,O;switch(m.dispose(),n.key){case d.Space:if(t.searchQuery!==\"\")return n.preventDefault(),n.stopPropagation(),o({type:3,value:n.key});case d.Enter:if(n.preventDefault(),n.stopPropagation(),o({type:1}),t.activeItemIndex!==null){let{dataRef:c}=t.items[t.activeItemIndex];(O=(S=c.current)==null?void 0:S.domRef.current)==null||O.click()}J(t.buttonRef.current);break;case d.ArrowDown:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Next});case d.ArrowUp:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Previous});case d.Home:case d.PageUp:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.First});case d.End:case d.PageDown:return n.preventDefault(),n.stopPropagation(),o({type:2,focus:y.Last});case d.Escape:n.preventDefault(),n.stopPropagation(),o({type:1}),L().nextFrame(()=>{var c;return(c=t.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})});break;case d.Tab:n.preventDefault(),n.stopPropagation(),o({type:1}),L().nextFrame(()=>{ne(t.buttonRef.current,n.shiftKey?W.Previous:W.Next)});break;default:n.key.length===1&&(o({type:3,value:n.key}),m.setTimeout(()=>o({type:4}),350));break}}),A=T(n=>{switch(n.key){case d.Space:n.preventDefault();break}}),I=P(()=>({open:t.menuState===0}),[t]),p={\"aria-activedescendant\":t.activeItemIndex===null||(R=t.items[t.activeItemIndex])==null?void 0:R.id,\"aria-labelledby\":(E=t.buttonRef.current)==null?void 0:E.id,id:i,onKeyDown:g,onKeyUp:A,role:\"menu\",tabIndex:0,ref:a};return x({ourProps:p,theirProps:s,slot:I,defaultTag:ge,features:Re,visible:f,name:\"Menu.Items\"})}let be=G;function Ee(e,u){let r=k(),{id:i=`headlessui-menu-item-${r}`,disabled:s=!1,...t}=e,[o,a]=F(\"Menu.Item\"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===i:!1,m=H(null),M=D(u,m);h(()=>{if(o.menuState!==0||!l||o.activationTrigger===0)return;let c=L();return c.requestAnimationFrame(()=>{var b,_;(_=(b=m.current)==null?void 0:b.scrollIntoView)==null||_.call(b,{block:\"nearest\"})}),c.dispose},[m,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let f=H({disabled:s,domRef:m});h(()=>{f.current.disabled=s},[f,s]),h(()=>{var c,b;f.current.textValue=(b=(c=m.current)==null?void 0:c.textContent)==null?void 0:b.toLowerCase()},[f,m]),h(()=>(a({type:5,id:i,dataRef:f}),()=>a({type:6,id:i})),[f,i]);let g=T(()=>{a({type:1})}),A=T(c=>{if(s)return c.preventDefault();a({type:1}),J(o.buttonRef.current)}),I=T(()=>{if(s)return a({type:2,focus:y.Nothing});a({type:2,focus:y.Specific,id:i})}),p=le(),R=T(c=>p.update(c)),E=T(c=>{p.wasMoved(c)&&(s||l||a({type:2,focus:y.Specific,id:i,trigger:0}))}),n=T(c=>{p.wasMoved(c)&&(s||l&&a({type:2,focus:y.Nothing}))}),S=P(()=>({active:l,disabled:s,close:g}),[l,s,g]);return x({ourProps:{id:i,ref:M,role:\"menuitem\",tabIndex:s===!0?void 0:-1,\"aria-disabled\":s===!0?!0:void 0,disabled:void 0,onClick:A,onFocus:I,onPointerEnter:R,onMouseEnter:R,onPointerMove:E,onMouseMove:E,onPointerLeave:n,onMouseLeave:n},theirProps:t,slot:S,defaultTag:be,name:\"Menu.Item\"})}let Se=v(ye),Pe=v(Me),ve=v(Ae),xe=v(Ee),ot=Object.assign(Se,{Button:Pe,Items:ve,Item:xe});export{ot as Menu};\n"]},"metadata":{},"sourceType":"module"}