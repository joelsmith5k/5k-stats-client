{"ast":null,"code":"import z, { Fragment as xe, createContext as ue, createRef as Ce, useCallback as Oe, useContext as pe, useEffect as se, useMemo as D, useReducer as ge, useRef as A } from \"react\";\nimport { useComputed as te } from '../../hooks/use-computed.js';\nimport { useDisposables as ne } from '../../hooks/use-disposables.js';\nimport { useEvent as C } from '../../hooks/use-event.js';\nimport { useId as K } from '../../hooks/use-id.js';\nimport { useIsoMorphicEffect as _ } from '../../hooks/use-iso-morphic-effect.js';\nimport { useLatestValue as ye } from '../../hooks/use-latest-value.js';\nimport { useOutsideClick as Re } from '../../hooks/use-outside-click.js';\nimport { useResolveButtonType as ve } from '../../hooks/use-resolve-button-type.js';\nimport { useSyncRefs as W } from '../../hooks/use-sync-refs.js';\nimport { useTreeWalker as Pe } from '../../hooks/use-tree-walker.js';\nimport { calculateActiveIndex as Ae, Focus as y } from '../../utils/calculate-active-index.js';\nimport { disposables as be } from '../../utils/disposables.js';\nimport { forwardRefWithAs as w, render as U, compact as Ee, Features as de } from '../../utils/render.js';\nimport { isDisabledReactIssue7711 as Se } from '../../utils/bugs.js';\nimport { match as N } from '../../utils/match.js';\nimport { objectToFormEntries as Ie } from '../../utils/form.js';\nimport { sortByDomNode as Le } from '../../utils/focus-management.js';\nimport { Hidden as Ve, Features as De } from '../../internal/hidden.js';\nimport { useOpenClosed as Fe, State as ee, OpenClosedProvider as Me } from '../../internal/open-closed.js';\nimport { Keys as v } from '../keyboard.js';\nimport { useControllable as _e } from '../../hooks/use-controllable.js';\nimport { useWatch as fe } from '../../hooks/use-watch.js';\nimport { useTrackedPointer as he } from '../../hooks/use-tracked-pointer.js';\nimport { isMobile as Be } from '../../utils/platform.js';\n\nvar ke = (e => (e[e.Open = 0] = \"Open\", e[e.Closed = 1] = \"Closed\", e))(ke || {}),\n    we = (e => (e[e.Single = 0] = \"Single\", e[e.Multi = 1] = \"Multi\", e))(we || {}),\n    Ue = (e => (e[e.Pointer = 0] = \"Pointer\", e[e.Other = 1] = \"Other\", e))(Ue || {}),\n    Ne = (n => (n[n.OpenCombobox = 0] = \"OpenCombobox\", n[n.CloseCombobox = 1] = \"CloseCombobox\", n[n.GoToOption = 2] = \"GoToOption\", n[n.RegisterOption = 3] = \"RegisterOption\", n[n.UnregisterOption = 4] = \"UnregisterOption\", n[n.RegisterLabel = 5] = \"RegisterLabel\", n))(Ne || {});\n\nfunction re(t) {\n  let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e => e;\n  let e = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n      r = Le(l(t.options.slice()), b => b.dataRef.current.domRef.current),\n      i = e ? r.indexOf(e) : null;\n  return i === -1 && (i = null), {\n    options: r,\n    activeOptionIndex: i\n  };\n}\n\nlet He = {\n  [1](t) {\n    var l;\n    return (l = t.dataRef.current) != null && l.disabled || t.comboboxState === 1 ? t : { ...t,\n      activeOptionIndex: null,\n      comboboxState: 1\n    };\n  },\n\n  [0](t) {\n    var e;\n    if ((e = t.dataRef.current) != null && e.disabled || t.comboboxState === 0) return t;\n    let l = t.activeOptionIndex;\n\n    if (t.dataRef.current) {\n      let {\n        isSelected: r\n      } = t.dataRef.current,\n          i = t.options.findIndex(b => r(b.dataRef.current.value));\n      i !== -1 && (l = i);\n    }\n\n    return { ...t,\n      comboboxState: 0,\n      activeOptionIndex: l\n    };\n  },\n\n  [2](t, l) {\n    var i, b, n, d;\n    if ((i = t.dataRef.current) != null && i.disabled || (b = t.dataRef.current) != null && b.optionsRef.current && !((n = t.dataRef.current) != null && n.optionsPropsRef.current.static) && t.comboboxState === 1) return t;\n    let e = re(t);\n\n    if (e.activeOptionIndex === null) {\n      let o = e.options.findIndex(u => !u.dataRef.current.disabled);\n      o !== -1 && (e.activeOptionIndex = o);\n    }\n\n    let r = Ae(l, {\n      resolveItems: () => e.options,\n      resolveActiveIndex: () => e.activeOptionIndex,\n      resolveId: o => o.id,\n      resolveDisabled: o => o.dataRef.current.disabled\n    });\n    return { ...t,\n      ...e,\n      activeOptionIndex: r,\n      activationTrigger: (d = l.trigger) != null ? d : 1\n    };\n  },\n\n  [3]: (t, l) => {\n    var b, n;\n    let e = {\n      id: l.id,\n      dataRef: l.dataRef\n    },\n        r = re(t, d => [...d, e]);\n    t.activeOptionIndex === null && (b = t.dataRef.current) != null && b.isSelected(l.dataRef.current.value) && (r.activeOptionIndex = r.options.indexOf(e));\n    let i = { ...t,\n      ...r,\n      activationTrigger: 1\n    };\n    return (n = t.dataRef.current) != null && n.__demoMode && t.dataRef.current.value === void 0 && (i.activeOptionIndex = 0), i;\n  },\n  [4]: (t, l) => {\n    let e = re(t, r => {\n      let i = r.findIndex(b => b.id === l.id);\n      return i !== -1 && r.splice(i, 1), r;\n    });\n    return { ...t,\n      ...e,\n      activationTrigger: 1\n    };\n  },\n  [5]: (t, l) => ({ ...t,\n    labelId: l.id\n  })\n},\n    ae = ue(null);\nae.displayName = \"ComboboxActionsContext\";\n\nfunction $(t) {\n  let l = pe(ae);\n\n  if (l === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, $), e;\n  }\n\n  return l;\n}\n\nlet le = ue(null);\nle.displayName = \"ComboboxDataContext\";\n\nfunction H(t) {\n  let l = pe(le);\n\n  if (l === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, H), e;\n  }\n\n  return l;\n}\n\nfunction Ge(t, l) {\n  return N(l.type, He, t, l);\n}\n\nlet Xe = xe;\n\nfunction je(t, l) {\n  let {\n    value: e,\n    defaultValue: r,\n    onChange: i,\n    form: b,\n    name: n,\n    by: d = (p, T) => p === T,\n    disabled: o = !1,\n    __demoMode: u = !1,\n    nullable: P = !1,\n    multiple: f = !1,\n    ...E\n  } = t,\n      [c = f ? [] : void 0, g] = _e(e, i, r),\n      [m, x] = ge(Ge, {\n    dataRef: Ce(),\n    comboboxState: u ? 0 : 1,\n    options: [],\n    activeOptionIndex: null,\n    activationTrigger: 1,\n    labelId: null\n  }),\n      L = A(!1),\n      F = A({\n    static: !1,\n    hold: !1\n  }),\n      h = A(null),\n      B = A(null),\n      k = A(null),\n      G = A(null),\n      V = C(typeof d == \"string\" ? (p, T) => {\n    let R = d;\n    return (p == null ? void 0 : p[R]) === (T == null ? void 0 : T[R]);\n  } : d),\n      M = Oe(p => N(s.mode, {\n    [1]: () => c.some(T => V(T, p)),\n    [0]: () => V(c, p)\n  }), [c]),\n      s = D(() => ({ ...m,\n    optionsPropsRef: F,\n    labelRef: h,\n    inputRef: B,\n    buttonRef: k,\n    optionsRef: G,\n    value: c,\n    defaultValue: r,\n    disabled: o,\n    mode: f ? 1 : 0,\n\n    get activeOptionIndex() {\n      if (L.current && m.activeOptionIndex === null && m.options.length > 0) {\n        let p = m.options.findIndex(T => !T.dataRef.current.disabled);\n        if (p !== -1) return p;\n      }\n\n      return m.activeOptionIndex;\n    },\n\n    compare: V,\n    isSelected: M,\n    nullable: P,\n    __demoMode: u\n  }), [c, r, o, f, P, u, m]),\n      O = A(s.activeOptionIndex !== null ? s.options[s.activeOptionIndex] : null);\n\n  se(() => {\n    let p = s.activeOptionIndex !== null ? s.options[s.activeOptionIndex] : null;\n    O.current !== p && (O.current = p);\n  }), _(() => {\n    m.dataRef.current = s;\n  }, [s]), Re([s.buttonRef, s.inputRef, s.optionsRef], () => oe.closeCombobox(), s.comboboxState === 0);\n  let a = D(() => ({\n    open: s.comboboxState === 0,\n    disabled: o,\n    activeIndex: s.activeOptionIndex,\n    activeOption: s.activeOptionIndex === null ? null : s.options[s.activeOptionIndex].dataRef.current.value,\n    value: c\n  }), [s, o, c]),\n      I = C(p => {\n    let T = s.options.find(R => R.id === p);\n    T && j(T.dataRef.current.value);\n  }),\n      S = C(() => {\n    if (s.activeOptionIndex !== null) {\n      let {\n        dataRef: p,\n        id: T\n      } = s.options[s.activeOptionIndex];\n      j(p.current.value), oe.goToOption(y.Specific, T);\n    }\n  }),\n      X = C(() => {\n    x({\n      type: 0\n    }), L.current = !0;\n  }),\n      q = C(() => {\n    x({\n      type: 1\n    }), L.current = !1;\n  }),\n      Q = C((p, T, R) => (L.current = !1, p === y.Specific ? x({\n    type: 2,\n    focus: y.Specific,\n    id: T,\n    trigger: R\n  }) : x({\n    type: 2,\n    focus: p,\n    trigger: R\n  }))),\n      Y = C((p, T) => (x({\n    type: 3,\n    id: p,\n    dataRef: T\n  }), () => {\n    var R;\n    ((R = O.current) == null ? void 0 : R.id) === p && (L.current = !0), x({\n      type: 4,\n      id: p\n    });\n  })),\n      ce = C(p => (x({\n    type: 5,\n    id: p\n  }), () => x({\n    type: 5,\n    id: null\n  }))),\n      j = C(p => N(s.mode, {\n    [0]() {\n      return g == null ? void 0 : g(p);\n    },\n\n    [1]() {\n      let T = s.value.slice(),\n          R = T.findIndex(J => V(J, p));\n      return R === -1 ? T.push(p) : T.splice(R, 1), g == null ? void 0 : g(T);\n    }\n\n  })),\n      oe = D(() => ({\n    onChange: j,\n    registerOption: Y,\n    registerLabel: ce,\n    goToOption: Q,\n    closeCombobox: q,\n    openCombobox: X,\n    selectActiveOption: S,\n    selectOption: I\n  }), []),\n      Te = l === null ? {} : {\n    ref: l\n  },\n      Z = A(null),\n      me = ne();\n  return se(() => {\n    Z.current && r !== void 0 && me.addEventListener(Z.current, \"reset\", () => {\n      j(r);\n    });\n  }, [Z, j]), z.createElement(ae.Provider, {\n    value: oe\n  }, z.createElement(le.Provider, {\n    value: s\n  }, z.createElement(Me, {\n    value: N(s.comboboxState, {\n      [0]: ee.Open,\n      [1]: ee.Closed\n    })\n  }, n != null && c != null && Ie({\n    [n]: c\n  }).map((_ref, R) => {\n    let [p, T] = _ref;\n    return z.createElement(Ve, {\n      features: De.Hidden,\n      ref: R === 0 ? J => {\n        var ie;\n        Z.current = (ie = J == null ? void 0 : J.closest(\"form\")) != null ? ie : null;\n      } : void 0,\n      ...Ee({\n        key: p,\n        as: \"input\",\n        type: \"hidden\",\n        hidden: !0,\n        readOnly: !0,\n        form: b,\n        name: p,\n        value: T\n      })\n    });\n  }), U({\n    ourProps: Te,\n    theirProps: E,\n    slot: a,\n    defaultTag: Xe,\n    name: \"Combobox\"\n  }))));\n}\n\nlet Je = \"input\";\n\nfunction Ke(t, l) {\n  var V, M, s, O;\n\n  let e = K(),\n      {\n    id: r = `headlessui-combobox-input-${e}`,\n    onChange: i,\n    displayValue: b,\n    type: n = \"text\",\n    ...d\n  } = t,\n      o = H(\"Combobox.Input\"),\n      u = $(\"Combobox.Input\"),\n      P = W(o.inputRef, l),\n      f = A(!1),\n      E = ne(),\n      c = function () {\n    var a;\n    return typeof b == \"function\" && o.value !== void 0 ? (a = b(o.value)) != null ? a : \"\" : typeof o.value == \"string\" ? o.value : \"\";\n  }();\n\n  fe((_ref2, _ref3) => {\n    let [a, I] = _ref2;\n    let [S, X] = _ref3;\n    f.current || o.inputRef.current && (X === 0 && I === 1 || a !== S) && (o.inputRef.current.value = a);\n  }, [c, o.comboboxState]), fe((_ref4, _ref5) => {\n    let [a] = _ref4;\n    let [I] = _ref5;\n\n    if (a === 0 && I === 1) {\n      let S = o.inputRef.current;\n      if (!S) return;\n      let X = S.value,\n          {\n        selectionStart: q,\n        selectionEnd: Q,\n        selectionDirection: Y\n      } = S;\n      S.value = \"\", S.value = X, Y !== null ? S.setSelectionRange(q, Q, Y) : S.setSelectionRange(q, Q);\n    }\n  }, [o.comboboxState]);\n  let g = A(!1),\n      m = C(() => {\n    g.current = !0;\n  }),\n      x = C(() => {\n    setTimeout(() => {\n      g.current = !1;\n    });\n  }),\n      L = C(a => {\n    switch (f.current = !0, a.key) {\n      case v.Backspace:\n      case v.Delete:\n        if (o.mode !== 0 || !o.nullable) return;\n        let I = a.currentTarget;\n        E.requestAnimationFrame(() => {\n          I.value === \"\" && (u.onChange(null), o.optionsRef.current && (o.optionsRef.current.scrollTop = 0), u.goToOption(y.Nothing));\n        });\n        break;\n\n      case v.Enter:\n        if (f.current = !1, o.comboboxState !== 0 || g.current) return;\n\n        if (a.preventDefault(), a.stopPropagation(), o.activeOptionIndex === null) {\n          u.closeCombobox();\n          return;\n        }\n\n        u.selectActiveOption(), o.mode === 0 && u.closeCombobox();\n        break;\n\n      case v.ArrowDown:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), N(o.comboboxState, {\n          [0]: () => {\n            u.goToOption(y.Next);\n          },\n          [1]: () => {\n            u.openCombobox();\n          }\n        });\n\n      case v.ArrowUp:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), N(o.comboboxState, {\n          [0]: () => {\n            u.goToOption(y.Previous);\n          },\n          [1]: () => {\n            u.openCombobox(), E.nextFrame(() => {\n              o.value || u.goToOption(y.Last);\n            });\n          }\n        });\n\n      case v.Home:\n        if (a.shiftKey) break;\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(y.First);\n\n      case v.PageUp:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(y.First);\n\n      case v.End:\n        if (a.shiftKey) break;\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(y.Last);\n\n      case v.PageDown:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(y.Last);\n\n      case v.Escape:\n        return f.current = !1, o.comboboxState !== 0 ? void 0 : (a.preventDefault(), o.optionsRef.current && !o.optionsPropsRef.current.static && a.stopPropagation(), u.closeCombobox());\n\n      case v.Tab:\n        if (f.current = !1, o.comboboxState !== 0) return;\n        o.mode === 0 && u.selectActiveOption(), u.closeCombobox();\n        break;\n    }\n  }),\n      F = C(a => {\n    u.openCombobox(), i == null || i(a);\n  }),\n      h = C(() => {\n    f.current = !1;\n  }),\n      B = te(() => {\n    if (o.labelId) return [o.labelId].join(\" \");\n  }, [o.labelId]),\n      k = D(() => ({\n    open: o.comboboxState === 0,\n    disabled: o.disabled\n  }), [o]),\n      G = {\n    ref: P,\n    id: r,\n    role: \"combobox\",\n    type: n,\n    \"aria-controls\": (V = o.optionsRef.current) == null ? void 0 : V.id,\n    \"aria-expanded\": o.disabled ? void 0 : o.comboboxState === 0,\n    \"aria-activedescendant\": o.activeOptionIndex === null || (M = o.options[o.activeOptionIndex]) == null ? void 0 : M.id,\n    \"aria-labelledby\": B,\n    \"aria-autocomplete\": \"list\",\n    defaultValue: (O = (s = t.defaultValue) != null ? s : o.defaultValue !== void 0 ? b == null ? void 0 : b(o.defaultValue) : null) != null ? O : o.defaultValue,\n    disabled: o.disabled,\n    onCompositionStart: m,\n    onCompositionEnd: x,\n    onKeyDown: L,\n    onChange: F,\n    onBlur: h\n  };\n  return U({\n    ourProps: G,\n    theirProps: d,\n    slot: k,\n    defaultTag: Je,\n    name: \"Combobox.Input\"\n  });\n}\n\nlet We = \"button\";\n\nfunction $e(t, l) {\n  var g;\n  let e = H(\"Combobox.Button\"),\n      r = $(\"Combobox.Button\"),\n      i = W(e.buttonRef, l),\n      b = K(),\n      {\n    id: n = `headlessui-combobox-button-${b}`,\n    ...d\n  } = t,\n      o = ne(),\n      u = C(m => {\n    switch (m.key) {\n      case v.ArrowDown:\n        return m.preventDefault(), m.stopPropagation(), e.comboboxState === 1 && r.openCombobox(), o.nextFrame(() => {\n          var x;\n          return (x = e.inputRef.current) == null ? void 0 : x.focus({\n            preventScroll: !0\n          });\n        });\n\n      case v.ArrowUp:\n        return m.preventDefault(), m.stopPropagation(), e.comboboxState === 1 && (r.openCombobox(), o.nextFrame(() => {\n          e.value || r.goToOption(y.Last);\n        })), o.nextFrame(() => {\n          var x;\n          return (x = e.inputRef.current) == null ? void 0 : x.focus({\n            preventScroll: !0\n          });\n        });\n\n      case v.Escape:\n        return e.comboboxState !== 0 ? void 0 : (m.preventDefault(), e.optionsRef.current && !e.optionsPropsRef.current.static && m.stopPropagation(), r.closeCombobox(), o.nextFrame(() => {\n          var x;\n          return (x = e.inputRef.current) == null ? void 0 : x.focus({\n            preventScroll: !0\n          });\n        }));\n\n      default:\n        return;\n    }\n  }),\n      P = C(m => {\n    if (Se(m.currentTarget)) return m.preventDefault();\n    e.comboboxState === 0 ? r.closeCombobox() : (m.preventDefault(), r.openCombobox()), o.nextFrame(() => {\n      var x;\n      return (x = e.inputRef.current) == null ? void 0 : x.focus({\n        preventScroll: !0\n      });\n    });\n  }),\n      f = te(() => {\n    if (e.labelId) return [e.labelId, n].join(\" \");\n  }, [e.labelId, n]),\n      E = D(() => ({\n    open: e.comboboxState === 0,\n    disabled: e.disabled,\n    value: e.value\n  }), [e]),\n      c = {\n    ref: i,\n    id: n,\n    type: ve(t, e.buttonRef),\n    tabIndex: -1,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-controls\": (g = e.optionsRef.current) == null ? void 0 : g.id,\n    \"aria-expanded\": e.disabled ? void 0 : e.comboboxState === 0,\n    \"aria-labelledby\": f,\n    disabled: e.disabled,\n    onClick: P,\n    onKeyDown: u\n  };\n  return U({\n    ourProps: c,\n    theirProps: d,\n    slot: E,\n    defaultTag: We,\n    name: \"Combobox.Button\"\n  });\n}\n\nlet qe = \"label\";\n\nfunction Qe(t, l) {\n  let e = K(),\n      {\n    id: r = `headlessui-combobox-label-${e}`,\n    ...i\n  } = t,\n      b = H(\"Combobox.Label\"),\n      n = $(\"Combobox.Label\"),\n      d = W(b.labelRef, l);\n\n  _(() => n.registerLabel(r), [r]);\n\n  let o = C(() => {\n    var f;\n    return (f = b.inputRef.current) == null ? void 0 : f.focus({\n      preventScroll: !0\n    });\n  }),\n      u = D(() => ({\n    open: b.comboboxState === 0,\n    disabled: b.disabled\n  }), [b]);\n  return U({\n    ourProps: {\n      ref: d,\n      id: r,\n      onClick: o\n    },\n    theirProps: i,\n    slot: u,\n    defaultTag: qe,\n    name: \"Combobox.Label\"\n  });\n}\n\nlet Ye = \"ul\",\n    Ze = de.RenderStrategy | de.Static;\n\nfunction ze(t, l) {\n  let e = K(),\n      {\n    id: r = `headlessui-combobox-options-${e}`,\n    hold: i = !1,\n    ...b\n  } = t,\n      n = H(\"Combobox.Options\"),\n      d = W(n.optionsRef, l),\n      o = Fe(),\n      u = (() => o !== null ? (o & ee.Open) === ee.Open : n.comboboxState === 0)();\n\n  _(() => {\n    var c;\n    n.optionsPropsRef.current.static = (c = t.static) != null ? c : !1;\n  }, [n.optionsPropsRef, t.static]), _(() => {\n    n.optionsPropsRef.current.hold = i;\n  }, [n.optionsPropsRef, i]), Pe({\n    container: n.optionsRef.current,\n    enabled: n.comboboxState === 0,\n\n    accept(c) {\n      return c.getAttribute(\"role\") === \"option\" ? NodeFilter.FILTER_REJECT : c.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n\n    walk(c) {\n      c.setAttribute(\"role\", \"none\");\n    }\n\n  });\n  let P = te(() => {\n    var c, g;\n    return (g = n.labelId) != null ? g : (c = n.buttonRef.current) == null ? void 0 : c.id;\n  }, [n.labelId, n.buttonRef.current]),\n      f = D(() => ({\n    open: n.comboboxState === 0\n  }), [n]),\n      E = {\n    \"aria-labelledby\": P,\n    role: \"listbox\",\n    \"aria-multiselectable\": n.mode === 1 ? !0 : void 0,\n    id: r,\n    ref: d\n  };\n  return U({\n    ourProps: E,\n    theirProps: b,\n    slot: f,\n    defaultTag: Ye,\n    features: Ze,\n    visible: u,\n    name: \"Combobox.Options\"\n  });\n}\n\nlet eo = \"li\";\n\nfunction oo(t, l) {\n  var M, s;\n  let e = K(),\n      {\n    id: r = `headlessui-combobox-option-${e}`,\n    disabled: i = !1,\n    value: b,\n    ...n\n  } = t,\n      d = H(\"Combobox.Option\"),\n      o = $(\"Combobox.Option\"),\n      u = d.activeOptionIndex !== null ? d.options[d.activeOptionIndex].id === r : !1,\n      P = d.isSelected(b),\n      f = A(null),\n      E = ye({\n    disabled: i,\n    value: b,\n    domRef: f,\n    textValue: (s = (M = f.current) == null ? void 0 : M.textContent) == null ? void 0 : s.toLowerCase()\n  }),\n      c = W(l, f),\n      g = C(() => o.selectOption(r));\n\n  _(() => o.registerOption(r, E), [E, r]);\n\n  let m = A(!d.__demoMode);\n  _(() => {\n    if (!d.__demoMode) return;\n    let O = be();\n    return O.requestAnimationFrame(() => {\n      m.current = !0;\n    }), O.dispose;\n  }, []), _(() => {\n    if (d.comboboxState !== 0 || !u || !m.current || d.activationTrigger === 0) return;\n    let O = be();\n    return O.requestAnimationFrame(() => {\n      var a, I;\n      (I = (a = f.current) == null ? void 0 : a.scrollIntoView) == null || I.call(a, {\n        block: \"nearest\"\n      });\n    }), O.dispose;\n  }, [f, u, d.comboboxState, d.activationTrigger, d.activeOptionIndex]);\n  let x = C(O => {\n    if (i) return O.preventDefault();\n    g(), d.mode === 0 && o.closeCombobox(), Be() || requestAnimationFrame(() => {\n      var a;\n      return (a = d.inputRef.current) == null ? void 0 : a.focus();\n    });\n  }),\n      L = C(() => {\n    if (i) return o.goToOption(y.Nothing);\n    o.goToOption(y.Specific, r);\n  }),\n      F = he(),\n      h = C(O => F.update(O)),\n      B = C(O => {\n    F.wasMoved(O) && (i || u || o.goToOption(y.Specific, r, 0));\n  }),\n      k = C(O => {\n    F.wasMoved(O) && (i || u && (d.optionsPropsRef.current.hold || o.goToOption(y.Nothing)));\n  }),\n      G = D(() => ({\n    active: u,\n    selected: P,\n    disabled: i\n  }), [u, P, i]);\n  return U({\n    ourProps: {\n      id: r,\n      ref: c,\n      role: \"option\",\n      tabIndex: i === !0 ? void 0 : -1,\n      \"aria-disabled\": i === !0 ? !0 : void 0,\n      \"aria-selected\": P,\n      disabled: void 0,\n      onClick: x,\n      onFocus: L,\n      onPointerEnter: h,\n      onMouseEnter: h,\n      onPointerMove: B,\n      onMouseMove: B,\n      onPointerLeave: k,\n      onMouseLeave: k\n    },\n    theirProps: n,\n    slot: G,\n    defaultTag: eo,\n    name: \"Combobox.Option\"\n  });\n}\n\nlet to = w(je),\n    no = w($e),\n    ro = w(Ke),\n    ao = w(Qe),\n    lo = w(ze),\n    io = w(oo),\n    Wo = Object.assign(to, {\n  Input: ro,\n  Button: no,\n  Label: ao,\n  Options: lo,\n  Option: io\n});\nexport { Wo as Combobox };","map":{"version":3,"sources":["C:/Users/joels/OneDrive/Desktop/Projects/5kstats-client/node_modules/@headlessui/react/dist/components/combobox/combobox.js"],"names":["z","Fragment","xe","createContext","ue","createRef","Ce","useCallback","Oe","useContext","pe","useEffect","se","useMemo","D","useReducer","ge","useRef","A","useComputed","te","useDisposables","ne","useEvent","C","useId","K","useIsoMorphicEffect","_","useLatestValue","ye","useOutsideClick","Re","useResolveButtonType","ve","useSyncRefs","W","useTreeWalker","Pe","calculateActiveIndex","Ae","Focus","y","disposables","be","forwardRefWithAs","w","render","U","compact","Ee","Features","de","isDisabledReactIssue7711","Se","match","N","objectToFormEntries","Ie","sortByDomNode","Le","Hidden","Ve","De","useOpenClosed","Fe","State","ee","OpenClosedProvider","Me","Keys","v","useControllable","_e","useWatch","fe","useTrackedPointer","he","isMobile","Be","ke","e","Open","Closed","we","Single","Multi","Ue","Pointer","Other","Ne","n","OpenCombobox","CloseCombobox","GoToOption","RegisterOption","UnregisterOption","RegisterLabel","re","t","l","activeOptionIndex","options","r","slice","b","dataRef","current","domRef","i","indexOf","He","disabled","comboboxState","isSelected","findIndex","value","d","optionsRef","optionsPropsRef","static","o","u","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","activationTrigger","trigger","__demoMode","splice","labelId","ae","displayName","$","Error","captureStackTrace","le","H","Ge","type","Xe","je","defaultValue","onChange","form","name","by","p","T","nullable","P","multiple","f","E","c","g","m","x","L","F","hold","h","B","k","G","V","R","M","s","mode","some","labelRef","inputRef","buttonRef","length","compare","O","oe","closeCombobox","a","open","activeIndex","activeOption","I","find","j","S","goToOption","Specific","X","q","Q","focus","Y","ce","J","push","registerOption","registerLabel","openCombobox","selectActiveOption","selectOption","Te","ref","Z","me","addEventListener","createElement","Provider","map","features","ie","closest","key","as","hidden","readOnly","ourProps","theirProps","slot","defaultTag","Je","Ke","displayValue","selectionStart","selectionEnd","selectionDirection","setSelectionRange","setTimeout","Backspace","Delete","currentTarget","requestAnimationFrame","scrollTop","Nothing","Enter","preventDefault","stopPropagation","ArrowDown","Next","ArrowUp","Previous","nextFrame","Last","Home","shiftKey","First","PageUp","End","PageDown","Escape","Tab","join","role","onCompositionStart","onCompositionEnd","onKeyDown","onBlur","We","$e","preventScroll","tabIndex","onClick","qe","Qe","Ye","Ze","RenderStrategy","Static","ze","container","enabled","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","visible","eo","oo","textValue","textContent","toLowerCase","dispose","scrollIntoView","call","block","update","wasMoved","active","selected","onFocus","onPointerEnter","onMouseEnter","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","to","no","ro","ao","lo","io","Wo","Object","assign","Input","Button","Label","Options","Option","Combobox"],"mappings":"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","sourcesContent":["import z,{Fragment as xe,createContext as ue,createRef as Ce,useCallback as Oe,useContext as pe,useEffect as se,useMemo as D,useReducer as ge,useRef as A}from\"react\";import{useComputed as te}from'../../hooks/use-computed.js';import{useDisposables as ne}from'../../hooks/use-disposables.js';import{useEvent as C}from'../../hooks/use-event.js';import{useId as K}from'../../hooks/use-id.js';import{useIsoMorphicEffect as _}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as ye}from'../../hooks/use-latest-value.js';import{useOutsideClick as Re}from'../../hooks/use-outside-click.js';import{useResolveButtonType as ve}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as W}from'../../hooks/use-sync-refs.js';import{useTreeWalker as Pe}from'../../hooks/use-tree-walker.js';import{calculateActiveIndex as Ae,Focus as y}from'../../utils/calculate-active-index.js';import{disposables as be}from'../../utils/disposables.js';import{forwardRefWithAs as w,render as U,compact as Ee,Features as de}from'../../utils/render.js';import{isDisabledReactIssue7711 as Se}from'../../utils/bugs.js';import{match as N}from'../../utils/match.js';import{objectToFormEntries as Ie}from'../../utils/form.js';import{sortByDomNode as Le}from'../../utils/focus-management.js';import{Hidden as Ve,Features as De}from'../../internal/hidden.js';import{useOpenClosed as Fe,State as ee,OpenClosedProvider as Me}from'../../internal/open-closed.js';import{Keys as v}from'../keyboard.js';import{useControllable as _e}from'../../hooks/use-controllable.js';import{useWatch as fe}from'../../hooks/use-watch.js';import{useTrackedPointer as he}from'../../hooks/use-tracked-pointer.js';import{isMobile as Be}from'../../utils/platform.js';var ke=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(ke||{}),we=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(we||{}),Ue=(e=>(e[e.Pointer=0]=\"Pointer\",e[e.Other=1]=\"Other\",e))(Ue||{}),Ne=(n=>(n[n.OpenCombobox=0]=\"OpenCombobox\",n[n.CloseCombobox=1]=\"CloseCombobox\",n[n.GoToOption=2]=\"GoToOption\",n[n.RegisterOption=3]=\"RegisterOption\",n[n.UnregisterOption=4]=\"UnregisterOption\",n[n.RegisterLabel=5]=\"RegisterLabel\",n))(Ne||{});function re(t,l=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Le(l(t.options.slice()),b=>b.dataRef.current.domRef.current),i=e?r.indexOf(e):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let He={[1](t){var l;return(l=t.dataRef.current)!=null&&l.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},[0](t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;let l=t.activeOptionIndex;if(t.dataRef.current){let{isSelected:r}=t.dataRef.current,i=t.options.findIndex(b=>r(b.dataRef.current.value));i!==-1&&(l=i)}return{...t,comboboxState:0,activeOptionIndex:l}},[2](t,l){var i,b,n,d;if((i=t.dataRef.current)!=null&&i.disabled||(b=t.dataRef.current)!=null&&b.optionsRef.current&&!((n=t.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&t.comboboxState===1)return t;let e=re(t);if(e.activeOptionIndex===null){let o=e.options.findIndex(u=>!u.dataRef.current.disabled);o!==-1&&(e.activeOptionIndex=o)}let r=Ae(l,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...t,...e,activeOptionIndex:r,activationTrigger:(d=l.trigger)!=null?d:1}},[3]:(t,l)=>{var b,n;let e={id:l.id,dataRef:l.dataRef},r=re(t,d=>[...d,e]);t.activeOptionIndex===null&&(b=t.dataRef.current)!=null&&b.isSelected(l.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(e));let i={...t,...r,activationTrigger:1};return(n=t.dataRef.current)!=null&&n.__demoMode&&t.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},[4]:(t,l)=>{let e=re(t,r=>{let i=r.findIndex(b=>b.id===l.id);return i!==-1&&r.splice(i,1),r});return{...t,...e,activationTrigger:1}},[5]:(t,l)=>({...t,labelId:l.id})},ae=ue(null);ae.displayName=\"ComboboxActionsContext\";function $(t){let l=pe(ae);if(l===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,$),e}return l}let le=ue(null);le.displayName=\"ComboboxDataContext\";function H(t){let l=pe(le);if(l===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,H),e}return l}function Ge(t,l){return N(l.type,He,t,l)}let Xe=xe;function je(t,l){let{value:e,defaultValue:r,onChange:i,form:b,name:n,by:d=(p,T)=>p===T,disabled:o=!1,__demoMode:u=!1,nullable:P=!1,multiple:f=!1,...E}=t,[c=f?[]:void 0,g]=_e(e,i,r),[m,x]=ge(Ge,{dataRef:Ce(),comboboxState:u?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),L=A(!1),F=A({static:!1,hold:!1}),h=A(null),B=A(null),k=A(null),G=A(null),V=C(typeof d==\"string\"?(p,T)=>{let R=d;return(p==null?void 0:p[R])===(T==null?void 0:T[R])}:d),M=Oe(p=>N(s.mode,{[1]:()=>c.some(T=>V(T,p)),[0]:()=>V(c,p)}),[c]),s=D(()=>({...m,optionsPropsRef:F,labelRef:h,inputRef:B,buttonRef:k,optionsRef:G,value:c,defaultValue:r,disabled:o,mode:f?1:0,get activeOptionIndex(){if(L.current&&m.activeOptionIndex===null&&m.options.length>0){let p=m.options.findIndex(T=>!T.dataRef.current.disabled);if(p!==-1)return p}return m.activeOptionIndex},compare:V,isSelected:M,nullable:P,__demoMode:u}),[c,r,o,f,P,u,m]),O=A(s.activeOptionIndex!==null?s.options[s.activeOptionIndex]:null);se(()=>{let p=s.activeOptionIndex!==null?s.options[s.activeOptionIndex]:null;O.current!==p&&(O.current=p)}),_(()=>{m.dataRef.current=s},[s]),Re([s.buttonRef,s.inputRef,s.optionsRef],()=>oe.closeCombobox(),s.comboboxState===0);let a=D(()=>({open:s.comboboxState===0,disabled:o,activeIndex:s.activeOptionIndex,activeOption:s.activeOptionIndex===null?null:s.options[s.activeOptionIndex].dataRef.current.value,value:c}),[s,o,c]),I=C(p=>{let T=s.options.find(R=>R.id===p);T&&j(T.dataRef.current.value)}),S=C(()=>{if(s.activeOptionIndex!==null){let{dataRef:p,id:T}=s.options[s.activeOptionIndex];j(p.current.value),oe.goToOption(y.Specific,T)}}),X=C(()=>{x({type:0}),L.current=!0}),q=C(()=>{x({type:1}),L.current=!1}),Q=C((p,T,R)=>(L.current=!1,p===y.Specific?x({type:2,focus:y.Specific,id:T,trigger:R}):x({type:2,focus:p,trigger:R}))),Y=C((p,T)=>(x({type:3,id:p,dataRef:T}),()=>{var R;((R=O.current)==null?void 0:R.id)===p&&(L.current=!0),x({type:4,id:p})})),ce=C(p=>(x({type:5,id:p}),()=>x({type:5,id:null}))),j=C(p=>N(s.mode,{[0](){return g==null?void 0:g(p)},[1](){let T=s.value.slice(),R=T.findIndex(J=>V(J,p));return R===-1?T.push(p):T.splice(R,1),g==null?void 0:g(T)}})),oe=D(()=>({onChange:j,registerOption:Y,registerLabel:ce,goToOption:Q,closeCombobox:q,openCombobox:X,selectActiveOption:S,selectOption:I}),[]),Te=l===null?{}:{ref:l},Z=A(null),me=ne();return se(()=>{Z.current&&r!==void 0&&me.addEventListener(Z.current,\"reset\",()=>{j(r)})},[Z,j]),z.createElement(ae.Provider,{value:oe},z.createElement(le.Provider,{value:s},z.createElement(Me,{value:N(s.comboboxState,{[0]:ee.Open,[1]:ee.Closed})},n!=null&&c!=null&&Ie({[n]:c}).map(([p,T],R)=>z.createElement(Ve,{features:De.Hidden,ref:R===0?J=>{var ie;Z.current=(ie=J==null?void 0:J.closest(\"form\"))!=null?ie:null}:void 0,...Ee({key:p,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:b,name:p,value:T})})),U({ourProps:Te,theirProps:E,slot:a,defaultTag:Xe,name:\"Combobox\"}))))}let Je=\"input\";function Ke(t,l){var V,M,s,O;let e=K(),{id:r=`headlessui-combobox-input-${e}`,onChange:i,displayValue:b,type:n=\"text\",...d}=t,o=H(\"Combobox.Input\"),u=$(\"Combobox.Input\"),P=W(o.inputRef,l),f=A(!1),E=ne(),c=function(){var a;return typeof b==\"function\"&&o.value!==void 0?(a=b(o.value))!=null?a:\"\":typeof o.value==\"string\"?o.value:\"\"}();fe(([a,I],[S,X])=>{f.current||o.inputRef.current&&(X===0&&I===1||a!==S)&&(o.inputRef.current.value=a)},[c,o.comboboxState]),fe(([a],[I])=>{if(a===0&&I===1){let S=o.inputRef.current;if(!S)return;let X=S.value,{selectionStart:q,selectionEnd:Q,selectionDirection:Y}=S;S.value=\"\",S.value=X,Y!==null?S.setSelectionRange(q,Q,Y):S.setSelectionRange(q,Q)}},[o.comboboxState]);let g=A(!1),m=C(()=>{g.current=!0}),x=C(()=>{setTimeout(()=>{g.current=!1})}),L=C(a=>{switch(f.current=!0,a.key){case v.Backspace:case v.Delete:if(o.mode!==0||!o.nullable)return;let I=a.currentTarget;E.requestAnimationFrame(()=>{I.value===\"\"&&(u.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),u.goToOption(y.Nothing))});break;case v.Enter:if(f.current=!1,o.comboboxState!==0||g.current)return;if(a.preventDefault(),a.stopPropagation(),o.activeOptionIndex===null){u.closeCombobox();return}u.selectActiveOption(),o.mode===0&&u.closeCombobox();break;case v.ArrowDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),N(o.comboboxState,{[0]:()=>{u.goToOption(y.Next)},[1]:()=>{u.openCombobox()}});case v.ArrowUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),N(o.comboboxState,{[0]:()=>{u.goToOption(y.Previous)},[1]:()=>{u.openCombobox(),E.nextFrame(()=>{o.value||u.goToOption(y.Last)})}});case v.Home:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(y.First);case v.PageUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(y.First);case v.End:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(y.Last);case v.PageDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(y.Last);case v.Escape:return f.current=!1,o.comboboxState!==0?void 0:(a.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&a.stopPropagation(),u.closeCombobox());case v.Tab:if(f.current=!1,o.comboboxState!==0)return;o.mode===0&&u.selectActiveOption(),u.closeCombobox();break}}),F=C(a=>{u.openCombobox(),i==null||i(a)}),h=C(()=>{f.current=!1}),B=te(()=>{if(o.labelId)return[o.labelId].join(\" \")},[o.labelId]),k=D(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]),G={ref:P,id:r,role:\"combobox\",type:n,\"aria-controls\":(V=o.optionsRef.current)==null?void 0:V.id,\"aria-expanded\":o.disabled?void 0:o.comboboxState===0,\"aria-activedescendant\":o.activeOptionIndex===null||(M=o.options[o.activeOptionIndex])==null?void 0:M.id,\"aria-labelledby\":B,\"aria-autocomplete\":\"list\",defaultValue:(O=(s=t.defaultValue)!=null?s:o.defaultValue!==void 0?b==null?void 0:b(o.defaultValue):null)!=null?O:o.defaultValue,disabled:o.disabled,onCompositionStart:m,onCompositionEnd:x,onKeyDown:L,onChange:F,onBlur:h};return U({ourProps:G,theirProps:d,slot:k,defaultTag:Je,name:\"Combobox.Input\"})}let We=\"button\";function $e(t,l){var g;let e=H(\"Combobox.Button\"),r=$(\"Combobox.Button\"),i=W(e.buttonRef,l),b=K(),{id:n=`headlessui-combobox-button-${b}`,...d}=t,o=ne(),u=C(m=>{switch(m.key){case v.ArrowDown:return m.preventDefault(),m.stopPropagation(),e.comboboxState===1&&r.openCombobox(),o.nextFrame(()=>{var x;return(x=e.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case v.ArrowUp:return m.preventDefault(),m.stopPropagation(),e.comboboxState===1&&(r.openCombobox(),o.nextFrame(()=>{e.value||r.goToOption(y.Last)})),o.nextFrame(()=>{var x;return(x=e.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case v.Escape:return e.comboboxState!==0?void 0:(m.preventDefault(),e.optionsRef.current&&!e.optionsPropsRef.current.static&&m.stopPropagation(),r.closeCombobox(),o.nextFrame(()=>{var x;return(x=e.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),P=C(m=>{if(Se(m.currentTarget))return m.preventDefault();e.comboboxState===0?r.closeCombobox():(m.preventDefault(),r.openCombobox()),o.nextFrame(()=>{var x;return(x=e.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),f=te(()=>{if(e.labelId)return[e.labelId,n].join(\" \")},[e.labelId,n]),E=D(()=>({open:e.comboboxState===0,disabled:e.disabled,value:e.value}),[e]),c={ref:i,id:n,type:ve(t,e.buttonRef),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":(g=e.optionsRef.current)==null?void 0:g.id,\"aria-expanded\":e.disabled?void 0:e.comboboxState===0,\"aria-labelledby\":f,disabled:e.disabled,onClick:P,onKeyDown:u};return U({ourProps:c,theirProps:d,slot:E,defaultTag:We,name:\"Combobox.Button\"})}let qe=\"label\";function Qe(t,l){let e=K(),{id:r=`headlessui-combobox-label-${e}`,...i}=t,b=H(\"Combobox.Label\"),n=$(\"Combobox.Label\"),d=W(b.labelRef,l);_(()=>n.registerLabel(r),[r]);let o=C(()=>{var f;return(f=b.inputRef.current)==null?void 0:f.focus({preventScroll:!0})}),u=D(()=>({open:b.comboboxState===0,disabled:b.disabled}),[b]);return U({ourProps:{ref:d,id:r,onClick:o},theirProps:i,slot:u,defaultTag:qe,name:\"Combobox.Label\"})}let Ye=\"ul\",Ze=de.RenderStrategy|de.Static;function ze(t,l){let e=K(),{id:r=`headlessui-combobox-options-${e}`,hold:i=!1,...b}=t,n=H(\"Combobox.Options\"),d=W(n.optionsRef,l),o=Fe(),u=(()=>o!==null?(o&ee.Open)===ee.Open:n.comboboxState===0)();_(()=>{var c;n.optionsPropsRef.current.static=(c=t.static)!=null?c:!1},[n.optionsPropsRef,t.static]),_(()=>{n.optionsPropsRef.current.hold=i},[n.optionsPropsRef,i]),Pe({container:n.optionsRef.current,enabled:n.comboboxState===0,accept(c){return c.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:c.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute(\"role\",\"none\")}});let P=te(()=>{var c,g;return(g=n.labelId)!=null?g:(c=n.buttonRef.current)==null?void 0:c.id},[n.labelId,n.buttonRef.current]),f=D(()=>({open:n.comboboxState===0}),[n]),E={\"aria-labelledby\":P,role:\"listbox\",\"aria-multiselectable\":n.mode===1?!0:void 0,id:r,ref:d};return U({ourProps:E,theirProps:b,slot:f,defaultTag:Ye,features:Ze,visible:u,name:\"Combobox.Options\"})}let eo=\"li\";function oo(t,l){var M,s;let e=K(),{id:r=`headlessui-combobox-option-${e}`,disabled:i=!1,value:b,...n}=t,d=H(\"Combobox.Option\"),o=$(\"Combobox.Option\"),u=d.activeOptionIndex!==null?d.options[d.activeOptionIndex].id===r:!1,P=d.isSelected(b),f=A(null),E=ye({disabled:i,value:b,domRef:f,textValue:(s=(M=f.current)==null?void 0:M.textContent)==null?void 0:s.toLowerCase()}),c=W(l,f),g=C(()=>o.selectOption(r));_(()=>o.registerOption(r,E),[E,r]);let m=A(!d.__demoMode);_(()=>{if(!d.__demoMode)return;let O=be();return O.requestAnimationFrame(()=>{m.current=!0}),O.dispose},[]),_(()=>{if(d.comboboxState!==0||!u||!m.current||d.activationTrigger===0)return;let O=be();return O.requestAnimationFrame(()=>{var a,I;(I=(a=f.current)==null?void 0:a.scrollIntoView)==null||I.call(a,{block:\"nearest\"})}),O.dispose},[f,u,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let x=C(O=>{if(i)return O.preventDefault();g(),d.mode===0&&o.closeCombobox(),Be()||requestAnimationFrame(()=>{var a;return(a=d.inputRef.current)==null?void 0:a.focus()})}),L=C(()=>{if(i)return o.goToOption(y.Nothing);o.goToOption(y.Specific,r)}),F=he(),h=C(O=>F.update(O)),B=C(O=>{F.wasMoved(O)&&(i||u||o.goToOption(y.Specific,r,0))}),k=C(O=>{F.wasMoved(O)&&(i||u&&(d.optionsPropsRef.current.hold||o.goToOption(y.Nothing)))}),G=D(()=>({active:u,selected:P,disabled:i}),[u,P,i]);return U({ourProps:{id:r,ref:c,role:\"option\",tabIndex:i===!0?void 0:-1,\"aria-disabled\":i===!0?!0:void 0,\"aria-selected\":P,disabled:void 0,onClick:x,onFocus:L,onPointerEnter:h,onMouseEnter:h,onPointerMove:B,onMouseMove:B,onPointerLeave:k,onMouseLeave:k},theirProps:n,slot:G,defaultTag:eo,name:\"Combobox.Option\"})}let to=w(je),no=w($e),ro=w(Ke),ao=w(Qe),lo=w(ze),io=w(oo),Wo=Object.assign(to,{Input:ro,Button:no,Label:ao,Options:lo,Option:io});export{Wo as Combobox};\n"]},"metadata":{},"sourceType":"module"}