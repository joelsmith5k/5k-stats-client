{"ast":null,"code":"import L, { useEffect as U, useRef as d } from \"react\";\nimport { forwardRefWithAs as N, render as I } from '../../utils/render.js';\nimport { useServerHandoffComplete as x } from '../../hooks/use-server-handoff-complete.js';\nimport { useSyncRefs as w } from '../../hooks/use-sync-refs.js';\nimport { Features as g, Hidden as k } from '../../internal/hidden.js';\nimport { focusElement as f, focusIn as M, Focus as p, FocusResult as G } from '../../utils/focus-management.js';\nimport { match as A } from '../../utils/match.js';\nimport { useEvent as C } from '../../hooks/use-event.js';\nimport { useTabDirection as K, Direction as b } from '../../hooks/use-tab-direction.js';\nimport { useIsMounted as O } from '../../hooks/use-is-mounted.js';\nimport { useOwnerDocument as W } from '../../hooks/use-owner.js';\nimport { useEventListener as V } from '../../hooks/use-event-listener.js';\nimport { microTask as F } from '../../utils/micro-task.js';\nimport { useWatch as y } from '../../hooks/use-watch.js';\nimport { useDisposables as q } from '../../hooks/use-disposables.js';\nimport { onDocumentReady as D } from '../../utils/document-ready.js';\n\nfunction P(t) {\n  if (!t) return new Set();\n  if (typeof t == \"function\") return new Set(t());\n  let n = new Set();\n\n  for (let e of t.current) e.current instanceof HTMLElement && n.add(e.current);\n\n  return n;\n}\n\nlet J = \"div\";\n\nvar h = (r => (r[r.None = 1] = \"None\", r[r.InitialFocus = 2] = \"InitialFocus\", r[r.TabLock = 4] = \"TabLock\", r[r.FocusLock = 8] = \"FocusLock\", r[r.RestoreFocus = 16] = \"RestoreFocus\", r[r.All = 30] = \"All\", r))(h || {});\n\nfunction X(t, n) {\n  let e = d(null),\n      o = w(e, n),\n      {\n    initialFocus: u,\n    containers: i,\n    features: r = 30,\n    ...l\n  } = t;\n  x() || (r = 1);\n  let m = W(e);\n  Y({\n    ownerDocument: m\n  }, Boolean(r & 16));\n  let c = Z({\n    ownerDocument: m,\n    container: e,\n    initialFocus: u\n  }, Boolean(r & 2));\n  $({\n    ownerDocument: m,\n    container: e,\n    containers: i,\n    previousActiveElement: c\n  }, Boolean(r & 8));\n\n  let v = K(),\n      R = C(s => {\n    let T = e.current;\n    if (!T) return;\n\n    (B => B())(() => {\n      A(v.current, {\n        [b.Forwards]: () => {\n          M(T, p.First, {\n            skipElements: [s.relatedTarget]\n          });\n        },\n        [b.Backwards]: () => {\n          M(T, p.Last, {\n            skipElements: [s.relatedTarget]\n          });\n        }\n      });\n    });\n  }),\n      _ = q(),\n      H = d(!1),\n      j = {\n    ref: o,\n\n    onKeyDown(s) {\n      s.key == \"Tab\" && (H.current = !0, _.requestAnimationFrame(() => {\n        H.current = !1;\n      }));\n    },\n\n    onBlur(s) {\n      let T = P(i);\n      e.current instanceof HTMLElement && T.add(e.current);\n      let E = s.relatedTarget;\n      E instanceof HTMLElement && E.dataset.headlessuiFocusGuard !== \"true\" && (S(T, E) || (H.current ? M(e.current, A(v.current, {\n        [b.Forwards]: () => p.Next,\n        [b.Backwards]: () => p.Previous\n      }) | p.WrapAround, {\n        relativeTo: s.target\n      }) : s.target instanceof HTMLElement && f(s.target)));\n    }\n\n  };\n\n  return L.createElement(L.Fragment, null, Boolean(r & 4) && L.createElement(k, {\n    as: \"button\",\n    type: \"button\",\n    \"data-headlessui-focus-guard\": !0,\n    onFocus: R,\n    features: g.Focusable\n  }), I({\n    ourProps: j,\n    theirProps: l,\n    defaultTag: J,\n    name: \"FocusTrap\"\n  }), Boolean(r & 4) && L.createElement(k, {\n    as: \"button\",\n    type: \"button\",\n    \"data-headlessui-focus-guard\": !0,\n    onFocus: R,\n    features: g.Focusable\n  }));\n}\n\nlet z = N(X),\n    Re = Object.assign(z, {\n  features: h\n}),\n    a = [];\nD(() => {\n  function t(n) {\n    n.target instanceof HTMLElement && n.target !== document.body && a[0] !== n.target && (a.unshift(n.target), a = a.filter(e => e != null && e.isConnected), a.splice(10));\n  }\n\n  window.addEventListener(\"click\", t, {\n    capture: !0\n  }), window.addEventListener(\"mousedown\", t, {\n    capture: !0\n  }), window.addEventListener(\"focus\", t, {\n    capture: !0\n  }), document.body.addEventListener(\"click\", t, {\n    capture: !0\n  }), document.body.addEventListener(\"mousedown\", t, {\n    capture: !0\n  }), document.body.addEventListener(\"focus\", t, {\n    capture: !0\n  });\n});\n\nfunction Q() {\n  let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;\n  let n = d(a.slice());\n  return y((_ref, _ref2) => {\n    let [e] = _ref;\n    let [o] = _ref2;\n    o === !0 && e === !1 && F(() => {\n      n.current.splice(0);\n    }), o === !1 && e === !0 && (n.current = a.slice());\n  }, [t, a, n]), C(() => {\n    var e;\n    return (e = n.current.find(o => o != null && o.isConnected)) != null ? e : null;\n  });\n}\n\nfunction Y(_ref3, n) {\n  let {\n    ownerDocument: t\n  } = _ref3;\n  let e = Q(n);\n  y(() => {\n    n || (t == null ? void 0 : t.activeElement) === (t == null ? void 0 : t.body) && f(e());\n  }, [n]);\n  let o = d(!1);\n  U(() => (o.current = !1, () => {\n    o.current = !0, F(() => {\n      o.current && f(e());\n    });\n  }), []);\n}\n\nfunction Z(_ref4, o) {\n  let {\n    ownerDocument: t,\n    container: n,\n    initialFocus: e\n  } = _ref4;\n  let u = d(null),\n      i = O();\n  return y(() => {\n    if (!o) return;\n    let r = n.current;\n    r && F(() => {\n      if (!i.current) return;\n      let l = t == null ? void 0 : t.activeElement;\n\n      if (e != null && e.current) {\n        if ((e == null ? void 0 : e.current) === l) {\n          u.current = l;\n          return;\n        }\n      } else if (r.contains(l)) {\n        u.current = l;\n        return;\n      }\n\n      e != null && e.current ? f(e.current) : M(r, p.First) === G.Error && console.warn(\"There are no focusable elements inside the <FocusTrap />\"), u.current = t == null ? void 0 : t.activeElement;\n    });\n  }, [o]), u;\n}\n\nfunction $(_ref5, u) {\n  let {\n    ownerDocument: t,\n    container: n,\n    containers: e,\n    previousActiveElement: o\n  } = _ref5;\n  let i = O();\n  V(t == null ? void 0 : t.defaultView, \"focus\", r => {\n    if (!u || !i.current) return;\n    let l = P(e);\n    n.current instanceof HTMLElement && l.add(n.current);\n    let m = o.current;\n    if (!m) return;\n    let c = r.target;\n    c && c instanceof HTMLElement ? S(l, c) ? (o.current = c, f(c)) : (r.preventDefault(), r.stopPropagation(), f(m)) : f(o.current);\n  }, !0);\n}\n\nfunction S(t, n) {\n  for (let e of t) if (e.contains(n)) return !0;\n\n  return !1;\n}\n\nexport { Re as FocusTrap };","map":{"version":3,"sources":["C:/Users/joels/OneDrive/Desktop/Projects/5kstats-client/node_modules/@headlessui/react/dist/components/focus-trap/focus-trap.js"],"names":["L","useEffect","U","useRef","d","forwardRefWithAs","N","render","I","useServerHandoffComplete","x","useSyncRefs","w","Features","g","Hidden","k","focusElement","f","focusIn","M","Focus","p","FocusResult","G","match","A","useEvent","C","useTabDirection","K","Direction","b","useIsMounted","O","useOwnerDocument","W","useEventListener","V","microTask","F","useWatch","y","useDisposables","q","onDocumentReady","D","P","t","Set","n","e","current","HTMLElement","add","J","h","r","None","InitialFocus","TabLock","FocusLock","RestoreFocus","All","X","o","initialFocus","u","containers","i","features","l","m","Y","ownerDocument","Boolean","c","Z","container","$","previousActiveElement","v","R","s","T","B","Forwards","First","skipElements","relatedTarget","Backwards","Last","_","H","j","ref","onKeyDown","key","requestAnimationFrame","onBlur","E","dataset","headlessuiFocusGuard","S","Next","Previous","WrapAround","relativeTo","target","createElement","Fragment","as","type","onFocus","Focusable","ourProps","theirProps","defaultTag","name","z","Re","Object","assign","a","document","body","unshift","filter","isConnected","splice","window","addEventListener","capture","Q","slice","find","activeElement","contains","Error","console","warn","defaultView","preventDefault","stopPropagation","FocusTrap"],"mappings":"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","sourcesContent":["import L,{useEffect as U,useRef as d}from\"react\";import{forwardRefWithAs as N,render as I}from'../../utils/render.js';import{useServerHandoffComplete as x}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as w}from'../../hooks/use-sync-refs.js';import{Features as g,Hidden as k}from'../../internal/hidden.js';import{focusElement as f,focusIn as M,Focus as p,FocusResult as G}from'../../utils/focus-management.js';import{match as A}from'../../utils/match.js';import{useEvent as C}from'../../hooks/use-event.js';import{useTabDirection as K,Direction as b}from'../../hooks/use-tab-direction.js';import{useIsMounted as O}from'../../hooks/use-is-mounted.js';import{useOwnerDocument as W}from'../../hooks/use-owner.js';import{useEventListener as V}from'../../hooks/use-event-listener.js';import{microTask as F}from'../../utils/micro-task.js';import{useWatch as y}from'../../hooks/use-watch.js';import{useDisposables as q}from'../../hooks/use-disposables.js';import{onDocumentReady as D}from'../../utils/document-ready.js';function P(t){if(!t)return new Set;if(typeof t==\"function\")return new Set(t());let n=new Set;for(let e of t.current)e.current instanceof HTMLElement&&n.add(e.current);return n}let J=\"div\";var h=(r=>(r[r.None=1]=\"None\",r[r.InitialFocus=2]=\"InitialFocus\",r[r.TabLock=4]=\"TabLock\",r[r.FocusLock=8]=\"FocusLock\",r[r.RestoreFocus=16]=\"RestoreFocus\",r[r.All=30]=\"All\",r))(h||{});function X(t,n){let e=d(null),o=w(e,n),{initialFocus:u,containers:i,features:r=30,...l}=t;x()||(r=1);let m=W(e);Y({ownerDocument:m},Boolean(r&16));let c=Z({ownerDocument:m,container:e,initialFocus:u},Boolean(r&2));$({ownerDocument:m,container:e,containers:i,previousActiveElement:c},Boolean(r&8));let v=K(),R=C(s=>{let T=e.current;if(!T)return;(B=>B())(()=>{A(v.current,{[b.Forwards]:()=>{M(T,p.First,{skipElements:[s.relatedTarget]})},[b.Backwards]:()=>{M(T,p.Last,{skipElements:[s.relatedTarget]})}})})}),_=q(),H=d(!1),j={ref:o,onKeyDown(s){s.key==\"Tab\"&&(H.current=!0,_.requestAnimationFrame(()=>{H.current=!1}))},onBlur(s){let T=P(i);e.current instanceof HTMLElement&&T.add(e.current);let E=s.relatedTarget;E instanceof HTMLElement&&E.dataset.headlessuiFocusGuard!==\"true\"&&(S(T,E)||(H.current?M(e.current,A(v.current,{[b.Forwards]:()=>p.Next,[b.Backwards]:()=>p.Previous})|p.WrapAround,{relativeTo:s.target}):s.target instanceof HTMLElement&&f(s.target)))}};return L.createElement(L.Fragment,null,Boolean(r&4)&&L.createElement(k,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:R,features:g.Focusable}),I({ourProps:j,theirProps:l,defaultTag:J,name:\"FocusTrap\"}),Boolean(r&4)&&L.createElement(k,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:R,features:g.Focusable}))}let z=N(X),Re=Object.assign(z,{features:h}),a=[];D(()=>{function t(n){n.target instanceof HTMLElement&&n.target!==document.body&&a[0]!==n.target&&(a.unshift(n.target),a=a.filter(e=>e!=null&&e.isConnected),a.splice(10))}window.addEventListener(\"click\",t,{capture:!0}),window.addEventListener(\"mousedown\",t,{capture:!0}),window.addEventListener(\"focus\",t,{capture:!0}),document.body.addEventListener(\"click\",t,{capture:!0}),document.body.addEventListener(\"mousedown\",t,{capture:!0}),document.body.addEventListener(\"focus\",t,{capture:!0})});function Q(t=!0){let n=d(a.slice());return y(([e],[o])=>{o===!0&&e===!1&&F(()=>{n.current.splice(0)}),o===!1&&e===!0&&(n.current=a.slice())},[t,a,n]),C(()=>{var e;return(e=n.current.find(o=>o!=null&&o.isConnected))!=null?e:null})}function Y({ownerDocument:t},n){let e=Q(n);y(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&f(e())},[n]);let o=d(!1);U(()=>(o.current=!1,()=>{o.current=!0,F(()=>{o.current&&f(e())})}),[])}function Z({ownerDocument:t,container:n,initialFocus:e},o){let u=d(null),i=O();return y(()=>{if(!o)return;let r=n.current;r&&F(()=>{if(!i.current)return;let l=t==null?void 0:t.activeElement;if(e!=null&&e.current){if((e==null?void 0:e.current)===l){u.current=l;return}}else if(r.contains(l)){u.current=l;return}e!=null&&e.current?f(e.current):M(r,p.First)===G.Error&&console.warn(\"There are no focusable elements inside the <FocusTrap />\"),u.current=t==null?void 0:t.activeElement})},[o]),u}function $({ownerDocument:t,container:n,containers:e,previousActiveElement:o},u){let i=O();V(t==null?void 0:t.defaultView,\"focus\",r=>{if(!u||!i.current)return;let l=P(e);n.current instanceof HTMLElement&&l.add(n.current);let m=o.current;if(!m)return;let c=r.target;c&&c instanceof HTMLElement?S(l,c)?(o.current=c,f(c)):(r.preventDefault(),r.stopPropagation(),f(m)):f(o.current)},!0)}function S(t,n){for(let e of t)if(e.contains(n))return!0;return!1}export{Re as FocusTrap};\n"]},"metadata":{},"sourceType":"module"}