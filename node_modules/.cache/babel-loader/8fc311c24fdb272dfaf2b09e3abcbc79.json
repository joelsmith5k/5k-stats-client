{"ast":null,"code":"import { disposables as s } from '../../utils/disposables.js';\nimport { createStore as i } from '../../utils/store.js';\nimport { adjustScrollbarPadding as l } from './adjust-scrollbar-padding.js';\nimport { handleIOSLocking as d } from './handle-ios-locking.js';\nimport { preventScroll as p } from './prevent-scroll.js';\n\nfunction m(e) {\n  let n = {};\n\n  for (let t of e) Object.assign(n, t(n));\n\n  return n;\n}\n\nlet a = i(() => new Map(), {\n  PUSH(e, n) {\n    var o;\n    let t = (o = this.get(e)) != null ? o : {\n      doc: e,\n      count: 0,\n      d: s(),\n      meta: new Set()\n    };\n    return t.count++, t.meta.add(n), this.set(e, t), this;\n  },\n\n  POP(e, n) {\n    let t = this.get(e);\n    return t && (t.count--, t.meta.delete(n)), this;\n  },\n\n  SCROLL_PREVENT(_ref) {\n    let {\n      doc: e,\n      d: n,\n      meta: t\n    } = _ref;\n    let o = {\n      doc: e,\n      d: n,\n      meta: m(t)\n    },\n        c = [d(), l(), p()];\n    c.forEach(_ref2 => {\n      let {\n        before: r\n      } = _ref2;\n      return r == null ? void 0 : r(o);\n    }), c.forEach(_ref3 => {\n      let {\n        after: r\n      } = _ref3;\n      return r == null ? void 0 : r(o);\n    });\n  },\n\n  SCROLL_ALLOW(_ref4) {\n    let {\n      d: e\n    } = _ref4;\n    e.dispose();\n  },\n\n  TEARDOWN(_ref5) {\n    let {\n      doc: e\n    } = _ref5;\n    this.delete(e);\n  }\n\n});\na.subscribe(() => {\n  let e = a.getSnapshot(),\n      n = new Map();\n\n  for (let [t] of e) n.set(t, t.documentElement.style.overflow);\n\n  for (let t of e.values()) {\n    let o = n.get(t.doc) === \"hidden\",\n        c = t.count !== 0;\n    (c && !o || !c && o) && a.dispatch(t.count > 0 ? \"SCROLL_PREVENT\" : \"SCROLL_ALLOW\", t), t.count === 0 && a.dispatch(\"TEARDOWN\", t);\n  }\n});\nexport { a as overflows };","map":{"version":3,"sources":["C:/Users/joels/OneDrive/Desktop/Projects/5kstats-client/node_modules/@headlessui/react/dist/hooks/document-overflow/overflow-store.js"],"names":["disposables","s","createStore","i","adjustScrollbarPadding","l","handleIOSLocking","d","preventScroll","p","m","e","n","t","Object","assign","a","Map","PUSH","o","get","doc","count","meta","Set","add","set","POP","delete","SCROLL_PREVENT","c","forEach","before","r","after","SCROLL_ALLOW","dispose","TEARDOWN","subscribe","getSnapshot","documentElement","style","overflow","values","dispatch","overflows"],"mappings":"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","sourcesContent":["import{disposables as s}from'../../utils/disposables.js';import{createStore as i}from'../../utils/store.js';import{adjustScrollbarPadding as l}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as d}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function m(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let a=i(()=>new Map,{PUSH(e,n){var o;let t=(o=this.get(e))!=null?o:{doc:e,count:0,d:s(),meta:new Set};return t.count++,t.meta.add(n),this.set(e,t),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let o={doc:e,d:n,meta:m(t)},c=[d(),l(),p()];c.forEach(({before:r})=>r==null?void 0:r(o)),c.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});a.subscribe(()=>{let e=a.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)===\"hidden\",c=t.count!==0;(c&&!o||!c&&o)&&a.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&a.dispatch(\"TEARDOWN\",t)}});export{a as overflows};\n"]},"metadata":{},"sourceType":"module"}